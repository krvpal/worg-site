<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<!-- Created by htmlize-1.56 in css mode. -->
<html>
  <head>
    <title>index.org</title>
    <style type="text/css">
    <!--
      body {
        color: #d6d6d4;
        background-color: #161719;
      }
      .bold {
        /* bold */
        font-weight: bold;
      }
      .builtin {
        /* font-lock-builtin-face */
        color: #fd971f;
      }
      .comment {
        /* font-lock-comment-face */
        color: #696969;
      }
      .comment-delimiter {
        /* font-lock-comment-delimiter-face */
        color: #696969;
      }
      .css-property {
        /* css-property */
        color: #eb4509;
      }
      .css-selector {
        /* css-selector */
        color: #b6e63e;
      }
      .custom {
        /* (:background "#000000" :foreground "white" :box (:line-width -1)) */
        color: #ffffff;
        background-color: #000000;
      }
      .custom-1 {
        /* (:background "#adefef" :foreground "black" :box (:line-width -1)) */
        color: #000000;
        background-color: #adefef;
      }
      .custom-2 {
        /* (:background "#cccccc" :foreground "black" :box (:line-width -1)) */
        color: #000000;
        background-color: #cccccc;
      }
      .custom-3 {
        /* (:background "#cc0000" :foreground "white" :box (:line-width -1)) */
        color: #ffffff;
        background-color: #cc0000;
      }
      .custom-4 {
        /* (:background "#ffffff" :foreground "black" :box (:line-width -1)) */
        color: #000000;
        background-color: #ffffff;
      }
      .custom-5 {
        /* (:background "#333333" :foreground "white" :box (:line-width -1)) */
        color: #ffffff;
        background-color: #333333;
      }
      .function-name {
        /* font-lock-function-name-face */
        color: #b6e63e;
      }
      .italic {
        /* italic */
        font-style: italic;
      }
      .kc-org-link-url {
        /* kc-org-link-url */
        color: #d02090;
        text-decoration: underline;
      }
      .keyword {
        /* font-lock-keyword-face */
        color: #eb4509;
      }
      .org-block {
        /* org-block */
        background-color: #000000;
      }
      .org-block-begin-line {
        /* org-block-begin-line */
        color: #696969;
      }
      .org-block-end-line {
        /* org-block-end-line */
        color: #696969;
      }
      .org-code {
        /* org-code */
        color: #dfd05e;
      }
      .org-document-info {
        /* org-document-info */
        color: #fd971f;
      }
      .org-document-info-keyword {
        /* org-document-info-keyword */
        color: #555556;
      }
      .org-document-title {
        /* org-document-title */
        color: #fd971f;
        font-weight: bold;
      }
      .org-drawer {
        /* org-drawer */
        color: #cd3278;
      }
      .org-hide {
        /* org-hide */
        color: #161719;
      }
      .org-level-1 {
        /* org-level-1 */
        color: #eb4509;
        font-weight: bold;
      }
      .org-level-2 {
        /* org-level-2 */
        color: #f0b144;
        font-weight: bold;
      }
      .org-level-3 {
        /* org-level-3 */
        color: #8ec298;
        font-weight: bold;
      }
      .org-link {
        /* org-link */
        color: #fd971f;
        font-weight: bold;
        text-decoration: underline;
      }
      .org-list-dt {
        /* org-list-dt */
        color: #e2c770;
      }
      .org-meta-line {
        /* org-meta-line */
        color: #7f7f80;
      }
      .org-property-value {
        /* org-property-value */
        color: #7f7f80;
      }
      .org-special-keyword {
        /* org-special-keyword */
        color: #7f7f80;
      }
      .org-superstar-header-bullet {
      }
      .org-table {
        /* org-table */
        color: #9c91e4;
      }
      .org-tag {
        /* org-tag */
        color: #e2c770;
      }
      .org-target {
        /* org-target */
        text-decoration: underline;
      }
      .org-verbatim {
        /* org-verbatim */
        color: #b6e63e;
      }
      .rainbow-delimiters-depth-1 {
        /* rainbow-delimiters-depth-1-face */
        color: #eb4509;
      }
      .rainbow-delimiters-depth-2 {
        /* rainbow-delimiters-depth-2-face */
        color: #fd971f;
      }
      .rainbow-delimiters-depth-3 {
        /* rainbow-delimiters-depth-3-face */
        color: #b6e63e;
      }
      .string {
        /* font-lock-string-face */
        color: #e2c770;
      }
      .variable-name {
        /* font-lock-variable-name-face */
        color: #fd971f;
      }
      .warning {
        /* font-lock-warning-face */
        color: #e2c770;
      }

      a {
        color: inherit;
        background-color: inherit;
        font: inherit;
        text-decoration: inherit;
      }
      a:hover {
        text-decoration: underline;
      }
    -->
    </style>
  </head>
  <body>
    <pre>
<span class="org-document-info-keyword">#+TITLE:</span> <span class="org-document-title">EMACS ORG-INFO.JS
</span><span class="org-document-info-keyword">#+AUTHOR:</span> <span class="org-document-info">Sebastian Rose
</span><span class="org-meta-line">#+STARTUP: align fold nodlcheck hidestars oddeven lognotestate</span>
<span class="org-document-info-keyword">#+EMAIL:</span><span class="org-document-info">
</span><span class="org-meta-line">#+LANGUAGE: en</span>
<span class="org-meta-line">#+OPTIONS: d:nil</span>
<span class="org-meta-line">#+INFOJS_OPT: path:org-info.js</span>
<span class="org-meta-line">#+INFOJS_OPT: toc:nil ltoc:above view:info mouse:underline buttons:nil</span>
<span class="org-meta-line">#+INFOJS_OPT: up:<a href="https://orgmode.org/worg/">https://orgmode.org/worg/</a></span>
<span class="org-meta-line">#+INFOJS_OPT: home:<a href="https://orgmode.org">https://orgmode.org</a></span>
<span class="org-meta-line">#+HTML_HEAD: &lt;link rel="stylesheet" type="text/css" href="stylesheet.css" /&gt;</span>

<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> The Name of the Game
</span>
org-info-js (subsequently called <span class="italic">the script</span>) implements part of Emacs
Org-mode in its XHTML-exported files, allowing them to be rendered and
browsed in a linuxdoc/texinfo style.

This documentation is one XHTML file, exported from one *.org file
using a single keyboard shortcut. No additional postprocessing was
done.  There are no external dependencies and the script is small and
fast, even for large files.  It is used on the <span class="kc-org-link-url"><a href="https://orgmode.org/Changes.html">org-mode site</a></span> to
display <span class="org-verbatim">ORGWEBPAGE/Changes.org</span> which consists of more than 220
sections.

If you don't mind using it despite the <span class="italic">health warnings</span> we wish you
good luck and hope the fun will outweigh your effort.

There are some drawbacks though. It is currently not possible to open
internal links in another tab (e.g. using middle click in Firefox) due
my poor JavaScript knowledge. This is not very high on my TODO list
since the history mechanism of the script is a good alternative to tab
usage.

Go to the next section by pressing '<span class="org-verbatim">n</span>'.

Find out about shortcuts in section <span class="org-link"><a href="#shortcuts">Shortcuts</a></span> (and come back here
pressing '<span class="org-verbatim">b</span>'). In addition, '<span class="org-verbatim">?</span>' will show all shortcuts available.

<span class="org-hide">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> </span><span class="org-target">&lt;&lt;&lt;Download&gt;&gt;&gt;</span><span class="org-level-2">
</span>
<span class="org-list-dt">-</span> A list of changes can be found <span class="org-link"><a href="file:changes.org">here</a></span> (separate file).

<span class="org-list-dt">-</span> <span class="org-link">Download</span> the <span class="org-link"><a href="file:org-info.js">minified version</a></span> or the <span class="org-link"><a href="file:org-info-src.js">source code</a></span>.

<span class="org-list-dt">-</span> Create the minified versions from the sources using the <span class="org-verbatim">Makefile</span> and
  a little sed script (see within this directory).

  Development of the script takes place on <span class="kc-org-link-url"><a href="http://github.com/SebastianRose/org-info-js/tree/master">github</a></span>, but every working
  release is published here on Worg synchronously. That said, you can
  follow the development by tracking the Worg repo as well, available
  at <span class="kc-org-link-url"><a href="https://code.orgmode.org/bzg/worg">https://code.orgmode.org/bzg/worg</a></span>.

<span class="org-hide">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Terms used throughout this Document
</span><span class="org-drawer">:PROPERTIES:</span>
<span class="org-special-keyword">:CUSTOM_ID:</span> <span class="org-property-value">terms</span>
<span class="org-drawer">:END:</span>

The script knows three different so called <span class="italic">view modes</span>. One may toggle
the view mode by pressing '<span class="org-verbatim">m</span>' or click the <span class="italic">toggle view</span> link the script
adds to your pages. Currently three view modes exist:

<span class="org-list-dt">+</span> <span class="bold"><span class="org-list-dt">info view mode</span></span><span class="org-list-dt"> ::</span>
     This mode displays the sections one by one, paged like the
     typical linuxdoc or texinfo files. This is the view mode you
     should face when first visiting this documentation.

<span class="org-list-dt">+</span> <span class="bold"><span class="org-list-dt">plain view mode</span></span><span class="org-list-dt"> ::</span>
     This mode displays the entire file. In this mode the sections are
     foldable by clicking the headlines or pressing '<span class="org-verbatim">f</span>' (fold). The
     entire structure of the document may be (un-)folded using
     '<span class="org-verbatim">F</span>'. You may determine what's visible on page load.

<span class="org-list-dt">+</span> <span class="bold"><span class="org-list-dt">presentation mode</span></span><span class="org-list-dt"> ::</span>
     This mode displays sections one by one as slides. Still very
     rustic and experimental. Rick Moynihan embarked and we plan a
     separate tool for presentations, but...

     The table of contents (<span class="bold">TOC</span>) is required, albeit it may be hidden
     (CSS). The TOC may be visited using '<span class="org-verbatim">i</span>' (index) regardless of its
     visibility.

     A <span class="bold">section</span> is everything with a headline.

<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Features
</span><span class="org-drawer">:PROPERTIES:</span>
<span class="org-special-keyword">:CUSTOM_ID:</span> <span class="org-property-value">features</span>
<span class="org-drawer">:END:</span>
<span class="org-hide">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Appearance
</span>
<span class="org-list-dt">+</span> <span class="bold"><span class="org-list-dt">Toggle plain view, info view and presentation</span></span><span class="org-list-dt"> ::</span>
     One can click the script-generated links in info view mode to
     read through the whole file page by page. By clicking on '<span class="italic">toggle
     view</span>' (or pressing `m&#180;) you can switch between info and plain
     view mode. The presentation mode is very rudimentary and just a
     quick hack realy. Press 'x' to see it.
<span class="org-list-dt">+</span> <span class="bold"><span class="org-list-dt">Keep place in file when toggling</span></span><span class="org-list-dt"> ::</span>
     When changing the view mode via the '<span class="italic">toggle view</span>' links, the
     reader gets the same part of the document presented after the
     view change as he saw before.
<span class="org-list-dt">+</span> <span class="bold"><span class="org-list-dt">Cut the TOC</span></span><span class="org-list-dt"> ::</span>
     You may cut the table of contents to a certain depth. The
     splitting of the document is not affected by this option. Hence
     you might set the level of headlines to 4, but cut the TOC to
     show only the first two levels.
<span class="org-list-dt">+</span> <span class="bold"><span class="org-list-dt">Optional subindexes</span></span><span class="org-list-dt"> ::</span>
     The script optionally creates subindexes under the headline of a
     section containing subsections not exceeding
     <span class="org-verbatim">org-export-headline-levels</span>. This was done to get a more
     texinfo/linuxdoc kind of feel and a better orientaton.
<span class="org-list-dt">+</span> <span class="bold"><span class="org-list-dt">Startupview customizable</span></span><span class="org-list-dt"> ::</span>
     Choose how to display the document on load. Info-like or plain
     and more.
<span class="org-list-dt">+</span> <span class="bold"><span class="org-list-dt">Toggle links everywhere / only on top</span></span><span class="org-list-dt"> ::</span>
     You may choose to display the '<span class="italic">toggle view</span>' links above every
     headline or just next the current sections headline.
<span class="org-list-dt">+</span> <span class="bold"><span class="org-list-dt">Numbered pages</span></span><span class="org-list-dt"> ::</span>
     In info view mode every page gets a page number starting from
     one.
<span class="org-list-dt">+</span> <span class="bold"><span class="org-list-dt">Markright alike headings</span></span><span class="org-list-dt"> ::</span>
     Info view mode only. Similar to the <span class="org-verbatim">\markright</span> command in LaTeX
     the Title of the current sections parent appears on top of each
     page. In subsections this heading can be use as link up to start
     of the parent section (see top of this page when you're in info
     view mode). You can move to the parent section by pressing `u&#180;
     (up).
<span class="org-list-dt">+</span> <span class="bold"><span class="org-list-dt">Tooltips</span></span><span class="org-list-dt"> ::</span>
     Moving the mouse on the navigation links shows a tooltip with
     name of next/previous section.
<span class="org-list-dt">+</span> <span class="bold"><span class="org-list-dt">Hide TOC</span></span><span class="org-list-dt"> ::</span>
     The TOC can be hidden completly. Hitting '<span class="org-verbatim">i</span>' still will show
     it. When showing the TOC hitting '<span class="org-verbatim">i</span>' any navigation command ('<span class="org-verbatim">n</span>',
     '<span class="org-verbatim">p</span>', '<span class="org-verbatim">s</span>'...) will trigger an history-back. Thus the TOC will not
     get in your way when navigating the history later on.

<span class="org-hide">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Keyboard navigation
</span>
<span class="org-list-dt">+</span> <span class="bold"><span class="org-list-dt">Easy keyboard navigation</span></span><span class="org-list-dt"> ::</span>
     See Section <span class="org-link"><a href="#shortcuts">Shortcuts</a></span> for a list of shortcuts.
<span class="org-list-dt">+</span> <span class="org-list-dt">Navigation history ::</span>
     Navigating a file through the keyboard shortcuts is recorded in
     an internal history. You may go back and forth in this
     history. Once an end is reached, org-info.js tries to go
     back/forth in the browsers history. If you move back to a
     previous visited file that uses the script, you will return to
     the place you left the file. Thus following links in published
     files feels like following footnotes.
<span class="org-list-dt">+</span> <span class="bold"><span class="org-list-dt">Customizable features</span></span><span class="org-list-dt"> ::</span>
     All features are customizable simply by setting up your export
     options template (see <span class="org-link"><a href="#setup">Setup</a></span>).
<span class="org-list-dt">+</span> <span class="bold"><span class="org-list-dt">Folding</span></span><span class="org-list-dt"> ::</span>
     Emulates the way of folding in emacs Org-mode. Mouse supported.

<span class="org-hide">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Searching
</span>
<span class="org-list-dt">+</span> <span class="bold"><span class="org-list-dt">Full text-search with highlighting</span></span><span class="org-list-dt"> ::</span> Search forward, backwards, repeated
     search... (experimental). Simple regular expressions are supported. Try to
     search for <span class="org-verbatim">a[e-h].*n</span> for example. All searches are case
     insensitive. Grouping is not supported. We couldn't search for round
     brackets otherwise. Supported are wildcards (e.g. <span class="org-verbatim">.*</span>) and ranges
     (e.g. <span class="org-verbatim">[a-g]</span>). Sometimes only one match is found between two HTML tags. The
     longer the expression, the better the matches.
<span class="org-list-dt">+</span> <span class="bold"><span class="org-list-dt">Occur mode</span></span><span class="org-list-dt"> ::</span>
     As experimental as the text-search, but I love this one. You may link to a
     file using this script like this: <span class="org-verbatim">index.html?OCCUR=java</span>. Use regular
     expressions likewise.
<span class="org-list-dt">+</span> <span class="bold"><span class="org-list-dt">Tags index</span></span><span class="org-list-dt"> ::</span>
     '<span class="org-verbatim">C</span>' shows a table of contents based on tags. Inherited tags are not
     supported yet. This was an <span class="kc-org-link-url"><a href="http://lists.gnu.org/archive/html/emacs-orgmode/2008-07/msg00434.html">idea of Rick Moynihan</a></span>.

<span class="org-hide">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Miscellaneous
</span>
<span class="org-list-dt">+</span> <span class="bold"><span class="org-list-dt">Inter-linking</span></span><span class="org-list-dt"> ::</span>
     The exported pages can be linked to the homepage and an directory index or
     some other sort of parent file.
<span class="org-list-dt">+</span> <span class="bold"><span class="org-list-dt">Adjusted internal links</span></span><span class="org-list-dt"> ::</span>
     Internal links to section headings are automatically adjusted to work with
     this script. When following such internal links, one may go back again
     using '<span class="org-verbatim">b</span>'.
<span class="org-list-dt">+</span> <span class="bold"><span class="org-list-dt">Detect the target in the URL</span></span><span class="org-list-dt"> ::</span>
     If the URL is suffixed by '<span class="org-verbatim">#sec-x.y.z</span>' that section will be displayed
     after startup.
<span class="org-list-dt">+</span> <span class="bold"><span class="org-list-dt">Structure is taken from export preferences</span></span><span class="org-list-dt"> ::</span>
     The paging is done according to your setting of
     <span class="org-verbatim">org-export-headline-levels</span>. Scanning the TOC is a good way to get
     around browser detection. An option to hide the TOC exists.
<span class="org-list-dt">+</span> <span class="bold"><span class="org-list-dt">Startup information</span></span><span class="org-list-dt"> ::</span>
     Show a little message on page load to tell the visitor about the script
     usage.
<span class="org-list-dt">+</span> <span class="bold"><span class="org-list-dt">Wrap text before first headline</span></span><span class="org-list-dt"> ::</span> This is a temporary fix for the missing
     <span class="org-verbatim">&lt;p&gt;</span> element around the text before the first headline, available since
     version 0.0.7.3a (fixed in current Org-mode versions). If you export with
     <span class="org-verbatim">skip:nil</span>, you may add this to your stylesheet:
     <span class="org-code">: </span><span class="org-code"><span class="org-tag">#text-before-first-headline</span></span><span class="org-code"> {color:red;font-weight:bold;}
</span><span class="org-list-dt">+</span> <span class="org-list-dt">Hooks ::</span> The OrgHtmlManager object provides hooks (two currently) to add
     custom actions.

<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Shortcuts
</span><span class="org-drawer">:PROPERTIES:</span>
<span class="org-special-keyword">:CUSTOM_ID:</span> <span class="org-property-value">shortcuts</span>
<span class="org-drawer">:END:</span>

The visitor of this file (and every XHTML-exported org file that includes the
script) may use the mouse or the following keys to navigate. '<span class="org-verbatim">?</span>' should give
you a list of shortcuts.

The script always tries to keep the last selected section visible. This is
somewhat strange when scrolling, but really helpful for keyboard navigation.

The TOC is handled specially, when hidden. If you press '<span class="org-verbatim">i</span>', the TOC is
displayed. Any subsequent key press goes back to where you've been before. The
TOC does not show up the history. Same applies to the keyboard help.

<span class="org-table">| Key       | Function                                                |</span>
<span class="org-table">|-----------+---------------------------------------------------------|</span>
<span class="org-table">| ? / &#191;     | show this help screen                                   |</span>
<span class="org-table">|-----------+---------------------------------------------------------|</span>
<span class="org-table">|           | </span><span class="org-table"><span class="bold">Moving around</span></span><span class="org-table">                                           |</span>
<span class="org-table">| n / p     | goto the next / previous section                        |</span>
<span class="org-table">| N / P     | goto the next / previous sibling                        |</span>
<span class="org-table">| t / E     | goto the first / last section                           |</span>
<span class="org-table">| g         | goto section...                                         |</span>
<span class="org-table">| u         | go one level up (parent section)                        |</span>
<span class="org-table">| i / C     | show table of contents / tags index                     |</span>
<span class="org-table">| b / B     | go back to last / forward to next visited section.      |</span>
<span class="org-table">| h / H     | go to main index in this directory / link HOME page     |</span>
<span class="org-table">|-----------+---------------------------------------------------------|</span>
<span class="org-table">|           | </span><span class="org-table"><span class="bold">View</span></span><span class="org-table">                                                    |</span>
<span class="org-table">| m / x     | toggle the view mode between info and plain / slides    |</span>
<span class="org-table">| f / F     | fold current section / whole document (plain view only) |</span>
<span class="org-table">|-----------+---------------------------------------------------------|</span>
<span class="org-table">|           | </span><span class="org-table"><span class="bold">Searching</span></span><span class="org-table">                                               |</span>
<span class="org-table">| s / r     | search forward / backward....                           |</span>
<span class="org-table">| S / R     | search again forward / backward                         |</span>
<span class="org-table">| o         | occur-mode                                              |</span>
<span class="org-table">| c         | clear search-highlight                                  |</span>
<span class="org-table">|-----------+---------------------------------------------------------|</span>
<span class="org-table">|           | </span><span class="org-table"><span class="bold">Misc</span></span><span class="org-table">                                                    |</span>
<span class="org-table">| l / L / U | display HTML link / Org link / Plain-URL                |</span>
<span class="org-table">| v / V     | scroll down / up                                        |</span>

Thanks Carsten, for this beautiful table!

<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Setup
</span><span class="org-drawer">:PROPERTIES:</span>
<span class="org-special-keyword">:CUSTOM_ID:</span> <span class="org-property-value">setup</span>
<span class="org-drawer">:END:</span>

This section describes how to setup your org files to use the
script. <span class="org-link"><a href="#the-new-way">Export-Setup - the new Way</a></span> covers setting up org XHTML
export with Org-mode version &gt;= 6.02. For those using an older
Org-mode version &lt; 6.02 the next section (<span class="org-link"><a href="#the-old-way">Export-Setup - the old Way</a></span>)
remains. <span class="org-link"><a href="#using-set">Using Set()</a></span> contains a list of all supported options for adjusting
the <span class="org-verbatim">org\_html\_manager</span> to suit your needs.

See the <span class="org-link">Download</span> section on how to obtain a version of the script.

The first version of this document was created with the new XHTML exporter
which was revised by Carsten Dominik in March 2008 (in Org-mode v5.23a+) to
better support <span class="org-verbatim">XML</span>.  You can use <span class="org-verbatim">M-x org-version</span> to see which version of
Org-mode you have installed.

<span class="org-hide">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Export-Setup - the new Way
</span><span class="org-drawer">:PROPERTIES:</span>
<span class="org-special-keyword">:CUSTOM_ID:</span> <span class="org-property-value">the-new-way</span>
<span class="org-drawer">:END:</span>

The modern way of org export setup provides extra options to include and
configure the script, as well as an emacs customize interface for this very
purpose. Options set in customize may be overwritten on a per-file basis
using one or more special <span class="org-verbatim">#+INFOJS_OPT:</span> lines in the head of your org file.

As an example, the head of this org file looks like:

<span class="org-block-begin-line">#+BEGIN_SRC org
</span><span class="org-block">,#+INFOJS_OPT: path:org-info.js
,#+INFOJS_OPT: toc:nil ltoc:t view:info mouse:underline buttons:nil
,#+INFOJS_OPT: up:</span><span class="org-block"><span class="kc-org-link-url"><a href="https://orgmode.org/worg/">https://orgmode.org/worg/</a></span></span><span class="org-block">
,#+INFOJS_OPT: home:</span><span class="org-block"><span class="kc-org-link-url"><a href="https://orgmode.org">https://orgmode.org</a></span></span><span class="org-block">
</span><span class="org-block-end-line">#+END_SRC
</span>
<span class="org-hide">**</span><span class="org-level-3"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-3"> Using customize
</span>
To use customize type
<span class="org-code">: M-x customize-group RET org-export-html RET
</span>scroll to the bottom and click <span class="org-verbatim">Org Export HTML INFOJS</span>.

On this page three main options may be configured. <span class="italic">Org Export Html Use
Infojs</span> is very good documented and <span class="italic">Org Infojs Template</span> should be
perfect by default. So I'll concentrate on <span class="italic">Org Infojs Options</span> here.

<span class="org-list-dt">+</span> <span class="org-verbatim"><span class="org-list-dt">path</span></span><span class="org-list-dt"> ::</span>
     Absolute or relative URL to the script as used in in XHTML
     links. '<span class="org-verbatim">org-info.js</span>' will find the file in the current
     directory. Keep in mind that this will be the directory of the
     exported file, eventually a directory on a server.

<span class="org-list-dt">+</span> <span class="org-verbatim"><span class="org-list-dt">view</span></span><span class="org-list-dt"> ::</span>
     What kind of view mode should the script enter on startup? Possible
     values are
     <span class="org-list-dt">+</span> <span class="org-verbatim">info</span> --- info view mode,
     <span class="org-list-dt">+</span> <span class="org-verbatim">overview</span> --- plain view mode, only first level headlines visible,
     <span class="org-list-dt">+</span> <span class="org-verbatim">content</span> --- plain view mode, all headlines visible,
     <span class="org-list-dt">+</span> <span class="org-verbatim">showall</span> --- plain view mode showing the entire document.

<span class="org-list-dt">+</span> <span class="org-verbatim"><span class="org-list-dt">toc</span></span><span class="org-list-dt"> ::</span>
     Show the table of contents? \\
     Possible values:
     <span class="org-list-dt">+</span> <span class="org-verbatim">t</span> --- show the toc,
     <span class="org-list-dt">+</span> <span class="org-verbatim">nil</span> --- hide the toc (only show when '<span class="org-verbatim">i</span>' is pressed),
     <span class="org-list-dt">+</span> <span class="org-verbatim">Publishing/Export property</span> --- derivate this setting from another
       property like <span class="org-verbatim">org-export-with-toc</span>.

<span class="org-list-dt">+</span> <span class="org-verbatim"><span class="org-list-dt">ltoc</span></span><span class="org-list-dt"> ::</span>
     Should the script insert a local table of contents below the headings
     of sections containing subsections? The default is no.\\
     Possible values:
     <span class="org-list-dt">+</span> <span class="org-verbatim">t</span> --- show the local toc below the first text in a section,
     <span class="org-list-dt">+</span> <span class="org-verbatim">nil</span> --- hide the toc (only show when '<span class="org-verbatim">i</span>' is pressed). This is
       the default, if this option is omitted.
     <span class="org-list-dt">+</span> <span class="org-verbatim">above</span> --- sho the toc directly under the sections heading.

<span class="org-list-dt">+</span> <span class="org-verbatim"><span class="org-list-dt">mouse</span></span><span class="org-list-dt"> ::</span>
     Highlight the headline under the mouse in plain view mode?
     <span class="org-list-dt">+</span> <span class="org-verbatim">underline</span> --- underline the headline under mouse,
     <span class="org-list-dt">+</span> <span class="org-verbatim">#dddddd</span> --- or any valid XHTML/CSS color value like <span class="org-verbatim">red</span> to draw a
       colored background for the headline under the mouse.

<span class="org-list-dt">+</span> <span class="org-verbatim"><span class="org-list-dt">runs</span></span><span class="org-list-dt"> ::</span>
     <span class="bold">Obsolete</span>.
     Number of attempts to scan the document. It's no risk to set this to a
     higher value than the default. The <span class="org-verbatim">org_html_manager</span> will stop as
     soon as the entire document is scanned.

<span class="org-list-dt">+</span> <span class="org-verbatim"><span class="org-list-dt">buttons</span></span><span class="org-list-dt"> ::</span>
     Affects plain view mode only. If '<span class="org-verbatim">t</span>', display the little
     <span class="italic">Up|HOME|HELP|Toggle view</span> links next to <span class="bold">each</span> headline in plain view
     mode.

<span class="org-hide">**</span><span class="org-level-3"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-3"> Per File Basis: </span><span class="org-level-3"><span class="org-code">#+INFOJS_OPT</span></span><span class="org-level-3">
</span>
A single file may overwrite the global options using a line like this:

<span class="org-block-begin-line">#+BEGIN_SRC org
</span><span class="org-block">  ,#+INFOJS_OPT: view:info mouse:underline up:index.html home:</span><span class="org-block"><span class="kc-org-link-url"><a href="http://www.mydomain.tpl">http://www.mydomain.tpl</a></span></span><span class="org-block"> toc:t
</span><span class="org-block-end-line">#+END_SRC
</span>
Possible options are the same as in the previous section. Additional (?)
options include:

<span class="org-list-dt">+</span> <span class="org-verbatim"><span class="org-list-dt">home</span></span><span class="org-list-dt"> ::</span>
     An URL to link to the homepage. The text displayed is <span class="org-verbatim">HOME</span>.
<span class="org-list-dt">+</span> <span class="org-verbatim"><span class="org-list-dt">up</span></span><span class="org-list-dt"> ::</span>
     An URL pointing to some main page. The text displayed is <span class="org-verbatim">Up</span>.

<span class="org-hide">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Export-Setup - the old Way
</span><span class="org-drawer">:PROPERTIES:</span>
<span class="org-special-keyword">:CUSTOM_ID:</span> <span class="org-property-value">the-old-way</span>
<span class="org-drawer">:END:</span>

This section describes the old way to setup the script using the
<span class="org-verbatim">org-export-html-style</span> configuration. If you own a current version (6.00
++) of Org-mode you should better use <span class="org-link"><a href="#the-new-way">Export-Setup - the new Way</a></span> of setting
up the export for script usage. You might want to read the sections <span class="org-link"><a href="#xhtml">The XHTML</a></span>
for more information. <span class="org-link"><a href="#using-set">Using Set()</a></span> contains a list of all supported options
recognised by the script.

<span class="org-hide">**</span><span class="org-level-3"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-3"> Using a special * COMMENT Section
</span>
The second possibility to include the script is to add a special section
to the end of your org file (multiple lines possible):

<span class="org-block-begin-line">#+BEGIN_SRC org
</span><span class="org-block">,* COMMENT html style specifications
,# Local Variables&#58;
,# org-export-html-style: "&lt;link rel=\"stylesheet\"
,# type=\"text/css\" href=\"styles.css\" /&gt;
,# &lt;script type=\"text/javascript\" src=\"org-info.js\"&gt;
,# &lt;/script&gt;
,# &lt;script type=\"text/javascript\"&gt;
,#  /</span><span class="org-block"><span class="italic">* &lt;![CDATA[ *</span></span><span class="org-block">/
,#    org_html_manager.set(\"LOCAL_TOC\", 1);
,#    org_html_manager.set(\"VIEW_BUTTONS\", \"true\");
,#    org_html_manager.set(\"MOUSE_HINT\", \"underline\");
,#    org_html_manager.setup ();
,#  /</span><span class="org-block"><span class="italic">* ]]&gt; *</span></span><span class="org-block">/
,# &lt;/script&gt;"
,# End:
</span><span class="org-block-end-line">#+END_SRC
</span>
Ensure to precede all the verbatim double quotes with a backslash and
include the whole value of <span class="org-verbatim">org-export-html-style</span> into double quotes
itself.

<span class="org-hide">**</span><span class="org-level-3"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-3"> Using customize
</span>
One could customize the option '<span class="org-verbatim">org-export-html-style</span>' globaly by
:M-x cuomize-variable RET org-export-html-style RET
and set it there.

<span class="org-block-begin-line">#+BEGIN_SRC html
</span><span class="org-block">&lt;</span><span class="org-block"><span class="function-name">script</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">type</span></span><span class="org-block">=</span><span class="org-block"><span class="string">"text/javascript"</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">src</span></span><span class="org-block">=</span><span class="org-block"><span class="string">"org-info.js"</span></span><span class="org-block">&gt;&lt;/</span><span class="org-block"><span class="function-name">script</span></span><span class="org-block">&gt;
&lt;</span><span class="org-block"><span class="function-name">script</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">type</span></span><span class="org-block">=</span><span class="org-block"><span class="string">"text/javascript"</span></span><span class="org-block">&gt;
/* &lt;![CDATA[ */
org_html_manager.set("LOCAL_TOC", 1);
org_html_manager.set("VIEW_BUTTONS", "true");
org_html_manager.set("MOUSE_HINT", "underline");
org_html_manager.setup ();
/* ]]&gt; */
&lt;/</span><span class="org-block"><span class="function-name">script</span></span><span class="org-block">&gt;
</span><span class="org-block-end-line">#+END_SRC
</span>
This way all your files will be exported using the script in the
future. If you publish entire directories, supply an absolute URI to the
<span class="org-verbatim">src</span> attribute of the first script tag above.

<span class="org-hide">**</span><span class="org-level-3"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-3"> Export-Setup per Project
</span>
Last but not least and very handy is the possibility to setup the usage of
the script per project. This is a taylor made passage of the org manual:

<span class="org-block-begin-line">#+BEGIN_SRC emacs-lisp
</span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="keyword">setq</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">org-publish-project-alist</span></span><span class="org-block">
      </span><span class="org-block"><span class="warning">&#8217;</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"org"</span></span><span class="org-block">
         </span><span class="org-block"><span class="builtin">:base-directory</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"~/org/"</span></span><span class="org-block">
         </span><span class="org-block"><span class="builtin">:publishing-directory</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"~/public_html"</span></span><span class="org-block">
         </span><span class="org-block"><span class="builtin">:section-numbers</span></span><span class="org-block"> nil
         </span><span class="org-block"><span class="builtin">:table-of-contents</span></span><span class="org-block"> nil
         </span><span class="org-block"><span class="builtin">:style</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"&lt;link rel=stylesheet href=\"../other/mystyle.css\"
                type=\"text/css\"&gt;
                &lt;script type=\"text/javascript\" src=\"org-info.js\"&gt;&lt;/script&gt;
                &lt;script type=\"text/javascript\"&gt;
                 /* &lt;![CDATA[ */
                    org_html_manager.setup ();
                 /* ]]&gt; */
                &lt;/script&gt;"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+END_SRC
</span>
Don't forget to add an export target for the script itself ;-)

<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Linking to Files using the Script
</span><span class="org-drawer">:PROPERTIES:</span>
<span class="org-special-keyword">:CUSTOM_ID:</span> <span class="org-property-value">linking</span>
<span class="org-drawer">:END:</span>

Just use the ordinary link syntax to link to files that use the script. Append
the section to the URL if neccessary:

<span class="org-code">: <a href="http://www.domain.tld/path/to/org.html#sec-3.4">http://www.domain.tld/path/to/org.html#sec-3.4</a>
</span>
One may overwrite the author's settings using special suffixes appended to the
URL of the script. Here are some examples linking to this section and changing
the intial view mode. Currently only the '<span class="italic">internal</span>' options are used (see
<span class="org-link"><a href="#using-set">Using set()</a></span> for a list).

<span class="org-block-begin-line">#+BEGIN_HTML
</span>&lt;ul&gt;
&lt;li&gt;
&lt;a href="index.html?TOC=1&amp;amp;VIEW=info#sec-5"&gt;&lt;code&gt;index.html?TOC=1&amp;amp;VIEW=info#sec-5&lt;/code&gt;&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href="index.html?TOC=0&amp;amp;VIEW=overview#sec-5"&gt;&lt;code&gt;index.html?TOC=0&amp;amp;VIEW=overview#sec-5&lt;/code&gt;&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href="index.html?VIEW=content&amp;amp;TOC_DEPTH=1#sec-5"&gt;&lt;code&gt;index.html?VIEW=content&amp;amp;TOC_DEPTH=1#sec-5&lt;/code&gt;&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href="index.html?VIEW=showall&amp;amp;MOUSE_HINT=rgb(255,133,0)#sec-5"&gt;&lt;code&gt;index.html?VIEW=showall&amp;amp;MOUSE_HINT=rgb(255,133,0)#sec-5&lt;/code&gt;&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href="index.html?OCCUR=java"&gt;&lt;code&gt;&lt;b&gt;index.html?OCCUR=java&lt;/b&gt;&lt;/code&gt;&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
<span class="org-block-end-line">#+END_HTML
</span>
<span class="bold">Note</span> that it is not possible to change the '<span class="italic">HOME</span>' and '<span class="italic">Up</span>' links.

<span class="bold">Note</span> also that everything but <span class="org-verbatim">[0-9a-zA-Z\.-_]</span> should be URL encoded if used
as an options value.

<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> CSS
</span><span class="org-drawer">:PROPERTIES:</span>
<span class="org-special-keyword">:CUSTOM_ID:</span> <span class="org-property-value">css</span>
<span class="org-drawer">:END:</span>

Here is an excerpt from the stylesheet for this file. Be carful not to mess
things up when trying to position the console.

<span class="org-block-begin-line">#+BEGIN_SRC css
</span><span class="org-block"><span class="comment-delimiter">/* </span></span><span class="org-block"><span class="comment">Styles for org-info.js </span></span><span class="org-block"><span class="comment-delimiter">*/</span></span><span class="org-block">

</span><span class="org-block"><span class="css-selector">.org-info-js_info-navigation
</span></span><span class="org-block">{
  </span><span class="org-block"><span class="css-property">border-style</span></span><span class="org-block">:none;
}

</span><span class="org-block"><span class="css-selector"><span class="org-tag">#org-info-js_console</span></span></span><span class="org-block"><span class="css-selector">
</span></span><span class="org-block">{
  </span><span class="org-block"><span class="css-property">color</span></span><span class="org-block">:</span><span class="org-block"><span class="custom-5">#333333</span></span><span class="org-block">;
  </span><span class="org-block"><span class="css-property">margin</span></span><span class="org-block">:0px;
  </span><span class="org-block"><span class="css-property">background-color</span></span><span class="org-block">:</span><span class="org-block"><span class="custom-4">#ffffff</span></span><span class="org-block">;
}

</span><span class="org-block"><span class="css-selector"><span class="org-tag">#org-info-js_console-input</span></span></span><span class="org-block"><span class="css-selector">
</span></span><span class="org-block">{
  </span><span class="org-block"><span class="css-property">background-color</span></span><span class="org-block">:</span><span class="org-block"><span class="custom-4">#ffffff</span></span><span class="org-block">;
  </span><span class="org-block"><span class="css-property">border-style</span></span><span class="org-block">:none;
  </span><span class="org-block"><span class="css-property">color</span></span><span class="org-block">:</span><span class="org-block"><span class="custom-5">#333333</span></span><span class="org-block">;
  </span><span class="org-block"><span class="css-property">padding-left</span></span><span class="org-block">:10px;
  </span><span class="org-block"><span class="css-property">vertical-align</span></span><span class="org-block">:middle;
}

</span><span class="org-block"><span class="css-selector"><span class="org-tag">#org-info-js_console-label</span></span></span><span class="org-block"><span class="css-selector">
</span></span><span class="org-block">{
  </span><span class="org-block"><span class="css-property">font-size</span></span><span class="org-block">:11px;
  </span><span class="org-block"><span class="css-property">font-weight</span></span><span class="org-block">:bold;
  </span><span class="org-block"><span class="css-property">padding-left</span></span><span class="org-block">:10px;
  </span><span class="org-block"><span class="css-property">font-family</span></span><span class="org-block">:Verdana,Arial,sans-serif;
  </span><span class="org-block"><span class="css-property">vertical-align</span></span><span class="org-block">:middle;
}

</span><span class="org-block"><span class="css-selector">.org-info-js_console-label-warning
</span></span><span class="org-block">{
  </span><span class="org-block"><span class="css-property">color</span></span><span class="org-block">:</span><span class="org-block"><span class="custom-3">#cc0000</span></span><span class="org-block">;
}

</span><span class="org-block"><span class="css-selector"><span class="org-tag">#org-info-js_console-container</span></span></span><span class="org-block"><span class="css-selector">
</span></span><span class="org-block">{
  </span><span class="org-block"><span class="css-property">border</span></span><span class="org-block">:1px solid </span><span class="org-block"><span class="custom-2"><span class="org-tag">#cccccc</span></span></span><span class="org-block"><span class="org-tag">;</span></span><span class="org-block">
}

</span><span class="org-block"><span class="css-selector">.org-info-js_search-highlight
</span></span><span class="org-block">{
  </span><span class="org-block"><span class="css-property">background-color</span></span><span class="org-block">:</span><span class="org-block"><span class="custom-1">#adefef</span></span><span class="org-block">; </span><span class="org-block"><span class="comment-delimiter">/* </span></span><span class="org-block"><span class="comment">emacs default </span></span><span class="org-block"><span class="comment-delimiter">*/</span></span><span class="org-block">
  </span><span class="org-block"><span class="css-property">color</span></span><span class="org-block">:</span><span class="org-block"><span class="custom">#000000</span></span><span class="org-block">;
  </span><span class="org-block"><span class="css-property">font-weight</span></span><span class="org-block">:bold;
}
</span><span class="org-block"><span class="comment-delimiter">/* </span></span><span class="org-block"><span class="comment">END STYLES FOR org-info.js </span></span><span class="org-block"><span class="comment-delimiter">*/</span></span><span class="org-block">
</span><span class="org-block-end-line">#+END_SRC
</span>
<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Supported Browsers
</span>
The functionality of the script is based on <span class="org-verbatim">DOM</span>. This leads to some
incompatibility with legacy browsers. But hey, it's 2009, isn't it?

So what browsers are supported then? Well - I don't know for
sure. JavaScript&#8482; 1.4 plus <span class="org-verbatim">DOM</span> should make
  <span class="org-list-dt">+</span> Netscape 6.0 and higher
  <span class="org-list-dt">+</span> Internet Explorer 5.0 and up
  <span class="org-list-dt">+</span> Firefox 1.0 ++  - 2.0.0.12 and 3.0 Beta tested
  <span class="org-list-dt">+</span> Opera 7.0 and higher - v.9.26 tested.
  <span class="org-list-dt">+</span> Safari 1.0

    I try to test the script before each release in Firefox 3.x.x and Opera 10 on
    Linux, and in FF 3, IE 6 and Safari on windows. Because of the number of
    features and browsers, some bugs might remain undiscovered. Please report bugs
    to the emacs-orgmode mailing list. In most cases we manage to fix them within
    the next 24 hours.

<span class="org-hide">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> </span><span class="org-target">&lt;&lt;People reported it works in&gt;&gt;</span><span class="org-level-2">
</span>
So let's gather the tested Browsers here. Problems are only listed, if they
are Browser specific. Let me say it again: we don't wont to support legacy
browsers, do we?

<span class="org-table">| Browser           |    Version |</span>
<span class="org-table">|-------------------+------------|</span>
<span class="org-table">| Opera             |      9.26+ |</span>
<span class="org-table">| Firefox/Iceweasel |   2.0.0.12 |</span>
<span class="org-table">| Firefox/Iceweasel | 3.0.2 Beta |</span>
<span class="org-table">| IE                |        5.5 |</span>
<span class="org-table">| IE                |          6 |</span>

If you manage to get this thingy working in any browser please let us know, so
we can update the above table.

<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Why Do I Need a T.O.C?
</span>
Currently the script depends on the table of contents in the resulting
XHTML. The TOC can be hidden though.

The main reason is the behaviour of browsers. There is no safe way to detect
if the entire document is loaded at a certain point in time. Opera for example
returns <span class="org-verbatim">true</span> if we ask it <span class="org-verbatim">if(document.body)</span>. The <span class="org-verbatim">init()</span> function of the
<span class="org-verbatim">OrgHtmlManager</span> is aware of the possibility, that not even the TOC might
be loaded when this function is called. Hence it should work for slow
connections too.

<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> The XHTML
</span><span class="org-drawer">:PROPERTIES:</span>
<span class="org-special-keyword">:CUSTOM_ID:</span> <span class="org-property-value">xhtml</span>
<span class="org-drawer">:END:</span>

End users may consider this section obsolete as of org version 6.00-pre-3,
since there is a new configuration interface in org now to setup the script
without dealing with JavaScript. It is still here to show the desired look
of the head section of the XHTML. Also someone might be interested to use the
script for XHTML files not exported from org.

The script has to be included in the header of the resulting XHTML files. The
document structure has to be exactly the one produced by the current XHTML
export of emacs Org-mode.
You may pass options to the <span class="org-verbatim">org\_html\_manager</span> by utilising its <span class="org-verbatim">set()</span>
method. For a list of options see section <span class="org-link"><a href="#using-set">Using Set()</a></span>. This is what the
head section should look like:

<span class="org-block-begin-line">#+BEGIN_SRC html
</span><span class="org-block">&lt;</span><span class="org-block"><span class="function-name">script</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">type</span></span><span class="org-block">=</span><span class="org-block"><span class="string">"text/javascript"</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">src</span></span><span class="org-block">=</span><span class="org-block"><span class="string">"org-info.js"</span></span><span class="org-block">&gt;&lt;/</span><span class="org-block"><span class="function-name">script</span></span><span class="org-block">&gt;
&lt;</span><span class="org-block"><span class="function-name">script</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">type</span></span><span class="org-block">=</span><span class="org-block"><span class="string">"text/javascript"</span></span><span class="org-block">&gt;
/* &lt;![CDATA[ */
org_html_manager.set("LOCAL_TOC", 1);
org_html_manager.set("TOC", 1);
org_html_manager.set("VIEW_BUTTONS", "1");
org_html_manager.set("MOUSE_HINT", "underline"); // or background-color like '#eeeeee'
org_html_manager.setup ();
/* ]]&gt; */
&lt;/</span><span class="org-block"><span class="function-name">script</span></span><span class="org-block">&gt;
</span><span class="org-block-end-line">#+END_SRC
</span>
To just use the script with the defaults put this into the head section of the
XHTML files:

<span class="org-block-begin-line">#+BEGIN_SRC html
</span><span class="org-block">&lt;</span><span class="org-block"><span class="function-name">script</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">type</span></span><span class="org-block">=</span><span class="org-block"><span class="string">"text/javascript"</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">src</span></span><span class="org-block">=</span><span class="org-block"><span class="string">"org-info.js"</span></span><span class="org-block">&gt;&lt;/</span><span class="org-block"><span class="function-name">script</span></span><span class="org-block">&gt;
&lt;</span><span class="org-block"><span class="function-name">script</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">type</span></span><span class="org-block">=</span><span class="org-block"><span class="string">"text/javascript"</span></span><span class="org-block">&gt;
/* &lt;![CDATA[ */
org_html_manager.setup ();
/* ]]&gt; */
&lt;/</span><span class="org-block"><span class="function-name">script</span></span><span class="org-block">&gt;
</span><span class="org-block-end-line">#+END_SRC
</span>
I recommend the use of

<span class="org-block-begin-line">#+BEGIN_SRC html
</span><span class="org-block">&lt;</span><span class="org-block"><span class="function-name">script</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">type</span></span><span class="org-block">=</span><span class="org-block"><span class="string">"text/javascript"</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">src</span></span><span class="org-block">=</span><span class="org-block"><span class="string">"org-info.js"</span></span><span class="org-block">&gt;&lt;/</span><span class="org-block"><span class="function-name">script</span></span><span class="org-block">&gt;
</span><span class="org-block-end-line">#+END_SRC
</span>
instead of

<span class="org-block-begin-line">#+BEGIN_SRC html
</span><span class="org-block">&lt;</span><span class="org-block"><span class="function-name">script</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">type</span></span><span class="org-block">=</span><span class="org-block"><span class="string">"text/javascript"</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">src</span></span><span class="org-block">=</span><span class="org-block"><span class="string">"org-info.js"</span></span><span class="org-block"> /&gt;
</span><span class="org-block-end-line">#+END_SRC
</span>
which is valid XHTML but not understood by all browsers. I'll use the first
version throughout this document where ever the space allows to do so.

<span class="org-hide">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Using </span><span class="org-level-2"><span class="org-code">set()</span></span><span class="org-level-2">
</span><span class="org-drawer">:PROPERTIES:</span>
<span class="org-special-keyword">:CUSTOM_ID:</span> <span class="org-property-value">using-set</span>
<span class="org-drawer">:END:</span>

Before calling
<span class="org-code">: org_html_manager.setup ();
</span>one may configure the script by using the <span class="org-verbatim">org\_html\_manager</span>'s function
<span class="org-verbatim">set(key, val)</span>. There is one important rule for all of these options. If
you set a string value containing single quotes, do it this way:
<span class="org-code">: org_html_manager.set("key", "value with \\'single quotes\\'");
</span>
<span class="org-list-dt">+</span> <span class="org-verbatim"><span class="org-list-dt">VIEW</span></span><span class="org-list-dt"> ::</span> Set to a true value to start in textinfo kind of view. Note: you
     could also use <span class="org-verbatim">org\_html\_manager.INFO\_VIEW</span>,
     <span class="org-verbatim">org\_html\_manager.PRESENTATION\_VIEW</span> or
     <span class="org-verbatim">org\_html\_manager.PLAIN\_VIEW</span>. Defaults to plain view mode.
<span class="org-list-dt">+</span> <span class="org-verbatim"><span class="org-list-dt">HIDE\_TOC</span></span><span class="org-list-dt"> ::</span>
     If <span class="org-verbatim">1</span>, hide the table of contents.
<span class="org-list-dt">+</span> <span class="org-verbatim"><span class="org-list-dt">SUB\_INDEXES</span></span><span class="org-list-dt"> ::</span>
     If set to a <span class="org-verbatim">true</span> (<span class="org-verbatim">1</span> or not empty string) value, create subindexes
     for sections containing subsections. See sections 1 2, or 3.1 of this
     document. The index below the headline (under 'Contents:') is generated
     by the script. This one is off by default.
<span class="org-list-dt">+</span> <span class="org-verbatim"><span class="org-list-dt">VIEW\_BUTTONS</span></span><span class="org-list-dt"> ::</span>
     If <span class="org-verbatim">true</span>, include the small '<span class="italic">toggle view</span>' link above every headline in
     plain view too. The visitor can toggle the view every where in the file
     then. If <span class="org-verbatim">false</span>, only at the top of the file such a link is displayed
     when in plain view. Default is <span class="org-verbatim">false</span>.
<span class="org-list-dt">+</span> <span class="org-verbatim"><span class="org-list-dt">MOUSE\_HINT</span></span><span class="org-list-dt"> ::</span>
     Highlight the heading under the mouse. This can be a background color
     (like '<span class="org-verbatim">#ff0000</span>', '<span class="org-verbatim">red</span>' or '<span class="org-verbatim">rgb(230,230,230)</span>') or the keyword
     '<span class="org-verbatim">underline</span>'.
<span class="org-list-dt">+</span> <span class="org-verbatim"><span class="org-list-dt">LINK\_UP</span></span><span class="org-list-dt"> ::</span>
     May be set, to link to an other file, preferably the main index page of a
     subdirectory. You might consider using an absolute URL here. This link will be
     displayed as
     <span class="org-code">: &lt;a href="LINK_UP"&gt;Up&lt;/a&gt;
</span>     This way we can link files into a tree, if all subdirectories in the
     project follow the same conventions. The '<span class="org-verbatim">h</span>' shortcut will
     bring you there as well.
<span class="org-list-dt">+</span> <span class="org-verbatim"><span class="org-list-dt">LINK\_HOME</span></span><span class="org-list-dt"> ::</span>
     May be set, to link to an other file, preferably the main home page. This
     link will be displayed as
     <span class="org-code">: &lt;a href="LINK_HOME"&gt;Up&lt;/a&gt;
</span>     The '<span class="org-verbatim">H</span>' shortcut will trigger this action.
<span class="org-list-dt">+</span> <span class="org-verbatim"><span class="org-list-dt">TOC\_DEPTH</span></span><span class="org-list-dt"> ::</span>
     Cut the TOC at a certain level. This was done to support big big
     files and was requested by Carsten Dominik. If '<span class="org-verbatim">0</span>' or not provided at
     all the TOC will not be cut. If set to a number greater than '<span class="org-verbatim">0</span>',
     the TOC will cut to only show headlines down to that very level.
<span class="org-list-dt">+</span> <span class="org-verbatim"><span class="org-list-dt">HELP</span></span><span class="org-list-dt"> ::</span>
     Display a little message on page load? Defaults to no message. Set to <span class="org-verbatim">1</span>
     to display the startup message.

<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Hooks
</span><span class="org-drawer">:PROPERTIES:</span>
<span class="org-special-keyword">:CUSTOM_ID:</span> <span class="org-property-value">hooks</span>
<span class="org-drawer">:END:</span>

Currently two hooks are provided.  Each hook function is called with one or
more parameters the first of which is the OrgHtmlManager object.

<span class="org-list-dt">-</span> <span class="org-list-dt">'</span><span class="org-code"><span class="org-list-dt">onReady</span></span><span class="org-list-dt">' ::</span> This hook is run once the document is loaded, the view is
     setup and the startup section is shown.  The second parameter
     is the first section shown, i.e. an OrgNode object.
<span class="org-list-dt">-</span> <span class="org-list-dt">'</span><span class="org-code"><span class="org-list-dt">onShowSection</span></span><span class="org-list-dt">' ::</span> This one runs after showing a new section.  This hook is
     not called for the first section shown.  Use the '<span class="org-code">onReady</span>' hook for the
     first section.  The second parameter is an object with to OrgNodes: the
     previously shown section and the current section.


To add functions to the hooks, fill a global object <span class="org-code">orgInfoHooks</span> with the
function objects you need.  This is necessary, because code added via the
<span class="org-code">#+STYLE:</span> option lines is executed before org-info.js is loaded.

<span class="org-block-begin-line">#+begin_src org
</span><span class="org-block">  ,#+STYLE: &lt;script type="text/javascript"&gt;
  ,#+STYLE: /</span><span class="org-block"><span class="italic">* &lt;![CDATA[ *</span></span><span class="org-block">/
  ,#+STYLE:
  ,#+STYLE: var f = function(){ alert("I'll be removed :("); };
  ,#+STYLE:
  ,#+STYLE: orgInfoHooks = {
  ,#+STYLE:  'onReady': [
  ,#+STYLE:     function(ohm, sec){alert("I'm the only 'onReady' hook here.");}
  ,#+STYLE:   ],
  ,#+STYLE: 'onShowSection': [
  ,#+STYLE:     f,
  ,#+STYLE:     function (ohm, secs) {
  ,#+STYLE:       alert("You're looking at section "+</span><span class="org-block"><span class="italic">secs['current']['I']</span></span><span class="org-block">+":\n"+
  ,#+STYLE:             "\n            &lt;&lt;&lt; "+</span><span class="org-block"><span class="italic">ohm.rT(secs['current']['H']['innerHTML'])</span></span><span class="org-block">+" &gt;&gt;&gt;");},
  ,#+STYLE:     function(){
  ,#+STYLE:          alert("I'll now remove my f and myself, too.");
  ,#+STYLE:          org_html_manager.removeHook('onShowSection', f);
  ,#+STYLE:          org_html_manager.removeHook('onShowSection',
  ,#+STYLE:              orgInfoHooks['onShowSection'][ orgInfoHooks['onShowSection'].length - 1 ]);}
  ,#+STYLE:   ]};
  ,#+STYLE: /</span><span class="org-block"><span class="italic">* ]]&gt; *</span></span><span class="org-block">/
  ,#+STYLE: &lt;/script&gt;
</span><span class="org-block-end-line">#+end_src
</span>
<span class="bold">Make sure to remove hook functions at the end of the hook</span>.  Strange things
could happen otherwise (the hook loop will overlook a member. While the hook
loop runs in first hook first, the remove loop removes the last hook first).

<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> How it works
</span>
First of all the script is included  in the header as described in <span class="org-link"><a href="#setup">Setup</a></span>.  The
document has  to be exported with TOC  since the script depends  on it (See
<span class="org-link"><a href="Why Do I Need a T.O.C?">Why Do I Need a T.O.C?</a></span>).

When   included,   it   creates    a   global   JavaScript&#8482;   variable   named
<span class="org-verbatim">org\_html\_manager</span>.

The  <span class="org-verbatim">org\_html\_manager::setup()</span>  function,  that  you  will  have  to  call
yourself  (see examples in  <span class="org-link"><a href="#setup">Setup</a></span>), sets  up a  timeout function  calling its
<span class="org-verbatim">init()</span> function after  50ms. After those 50 ms  The <span class="org-verbatim">init()</span> function starts
its first attempt  to scan the document, using the TOC  as a guide. During
this scan the  <span class="org-verbatim">org\_html\_manager</span> builds a tree of  nodes, each caching some
data for later use. Once an element of the document is scanned it is marked by
setting a property <span class="org-verbatim">scanned\_for\_org</span> to <span class="org-verbatim">1</span>. This way it will not be scanned
a second time in  subsquent runs (it will be checked though,  but no work will
be done for it).

If the document  (or the TOC) is not  entirely loaded, <span class="org-verbatim">org\_html\_manager</span>
stops  scanning,  sets  the  timeout  again  to start  an  other  scan  50  ms
later. Once the  entire document is loaded and scanned no  new timeout will be
set, and the document is displayed in the desired way (hopefully).

Once the number of attempts to scan the  the document was configurable. This
was dropped, since we can not know in advance how fast the document will be
loaded on the client side.

The <span class="org-verbatim">org\_html\_manager</span> also changes the document a bit to make it react on
certain input events and follow your wishes. The old '<span class="italic">event handling</span>' was
entirely based on the normal link functions using so called <span class="org-verbatim">accesskeys</span>. This
has changed long ago, but the accesskeys will stay cause there is no reason to
remove them.

<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Presentations with org-info.js
</span>
The script can handle all the sections as single slides. Press '<span class="org-verbatim">x</span>' to switch
to the presentation mode. In this mode you may navigate the sections using the
mouse. Currently a single click moves forward and a doubleclick backwards
(will change this to right mouse button for backwards movement).

The first plain list (i.e. an &lt;ul&gt; element) in a section is special. The items
will be shown one by one when moving forward.

If you're at the end of the presentation, a click does not trigger a
warning. Same applies to a doubleclick when in the first section.

There is no plan to extend this feature set very much. A better plan might
be to write a separate tool to handle slides.

<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> History
</span>
The aim of this little script was to implement a part of emacs Org-mode
facilities of folding. Oh, no - not originaly.

My first idea was to view some of my larger org files without scrolling. I
wanted to have them paged just like texinfo or linuxdoc files. In February
2008 I came across Carsten Dominik's <span class="italic">ideas</span> page
<span class="kc-org-link-url"><a href="https://orgmode.org/todo.html">https://orgmode.org/todo.html</a></span>. And I could not resist to write him some of my
thoughts about this great emacs mode including some little ideas and
drawbacks. I don't know how, but somehow these guys made me, lazy bone that
I am, write this little script as an appetizer of <span class="italic">web 3.0 in Org-mode</span> (Phil
Jackson).

I did and since some people really liked it, worked a bit more on it and added
features. Bastien Guerry was so kind to publish it on
<span class="kc-org-link-url"><a href="http://www.legito.net/org-info-js/">http://www.legito.net/org-info-js/</a></span> the first months. Thanks Bastien.

In the first days of April Carsten Dominik added code to Org-mode to support
the usage of this script. Hence the script may now be configured in a similar way
to the other export options. Since then it is even possible to configure this
script through customize.

<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Thanks
</span>
Very special thanks to Carsten Dominik, Bastien Guerry and Phil Jackson who
have encouraged me to write and publish this little piece of (unfinished) work
and all the hundreds of hours they spent on this fantastic emacs mode called
Org-mode and the export modules.

Org is a new working experience for me and there is nothing comparable to
working with emacs AND Org-mode.

Another big kiss to Gabi (<span class="kc-org-link-url"><a href="http://www.emma-stil.de">www.emma-stil.de</a></span>) for being so patient while I was
not working on our projects but playing with emacs.

Thanks to Tobias Prinz for listening to my stupid JavaScript questions and all
the usefull tips. Espacially the negative margin trick and key input.

And again big thanks to Carsten Dominik for making the inclusion and
configuration of the script so easy for the users, all the inspired ideas and
the great org radio table trick. A lot of the power of the final make up is
your merit! We all love to read the Org-mode mailing lists because of the
kind and relaxed tone that is yours.

Thanks a lot for OrgMode!

<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> License
</span>
What I think about licenses? Well - I think licences and patents are not far
from each other. Poor people (and poor countries!!!) stay poor because of both
of them. But since I know where I live, in a world made of licenses and
patents, I have to apply some license to my work to protect it and stay
unprotected.

Hence the script was originally licensed under GPL 2. Since v.0.1.1.6 the
license was changed to <span class="kc-org-link-url"><a href="http://www.gnu.org/licenses/old-licenses/gpl-2.0.html">GPL version 3</a></span>. This document is subject to <span class="kc-org-link-url"><a href="http://www.fsf.org/licensing/licenses/fdl.txt">GFDL</a></span>.

<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> THE END
</span>
The original version of this document was written in emacs23 with Org-mode
<span class="org-list-dt">v.</span> 5.22a+.  The visibilty of the contents of a individual section or
subsection can be toggled by clicking the stars in front of the headlines or
moving there and hitting <span class="org-verbatim">TAB</span>. The visibility of the entire document structure
can be changed by pressing <span class="org-verbatim">SHIFT+TAB</span> anywhere. When on a headline, pressing
<span class="org-verbatim">ALT+UP/DOWN</span> moves the entire subtree to different location in the tree,
keeping its level of indentation. <span class="org-verbatim">ALT+LEFT/RIGHT</span> promotes and demotes the
subtree.

<span class="org-link"><a href="file:img/emacs23-org.js.org.png">file:img/emacs23-org.js.org.png</a></span>
</pre>
  </body>
</html>
