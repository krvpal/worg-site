<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<!-- Created by htmlize-1.56 in css mode. -->
<html>
  <head>
    <title>index.org</title>
    <style type="text/css">
    <!--
      body {
        color: #d6d6d4;
        background-color: #161719;
      }
      .builtin {
        /* font-lock-builtin-face */
        color: #fd971f;
      }
      .comment {
        /* font-lock-comment-face */
        color: #696969;
      }
      .comment-delimiter {
        /* font-lock-comment-delimiter-face */
        color: #696969;
      }
      .constant {
        /* font-lock-constant-face */
        color: #fd971f;
      }
      .custom {
        /* (:foreground "#f0c613" :weight bold :underline t) */
        color: #f0c613;
        font-weight: bold;
        text-decoration: underline;
      }
      .doc {
        /* font-lock-doc-face */
        color: #7f7f80;
      }
      .function-name {
        /* font-lock-function-name-face */
        color: #b6e63e;
      }
      .highlight-numbers-number {
        /* highlight-numbers-number */
        color: #9c91e4;
        font-weight: bold;
      }
      .highlight-quoted-quote {
        /* highlight-quoted-quote */
        color: #9c91e4;
      }
      .highlight-quoted-symbol {
        /* highlight-quoted-symbol */
        color: #66d9ef;
      }
      .italic {
        /* italic */
        font-style: italic;
      }
      .kc-org-link-url {
        /* kc-org-link-url */
        color: #d02090;
        text-decoration: underline;
      }
      .keyword {
        /* font-lock-keyword-face */
        color: #eb4509;
      }
      .negation-char {
        /* font-lock-negation-char-face */
        color: #9c91e4;
        font-weight: bold;
      }
      .org-block {
        /* org-block */
        background-color: #000000;
      }
      .org-block-begin-line {
        /* org-block-begin-line */
        color: #696969;
      }
      .org-block-end-line {
        /* org-block-end-line */
        color: #696969;
      }
      .org-document-info {
        /* org-document-info */
        color: #fd971f;
      }
      .org-document-info-keyword {
        /* org-document-info-keyword */
        color: #555556;
      }
      .org-document-title {
        /* org-document-title */
        color: #fd971f;
        font-weight: bold;
      }
      .org-hide {
        /* org-hide */
        color: #161719;
      }
      .org-level-1 {
        /* org-level-1 */
        color: #eb4509;
        font-weight: bold;
      }
      .org-level-2 {
        /* org-level-2 */
        color: #f0b144;
        font-weight: bold;
      }
      .org-level-3 {
        /* org-level-3 */
        color: #8ec298;
        font-weight: bold;
      }
      .org-link {
        /* org-link */
        color: #fd971f;
        font-weight: bold;
        text-decoration: underline;
      }
      .org-list-dt {
        /* org-list-dt */
        color: #e2c770;
      }
      .org-meta-line {
        /* org-meta-line */
        color: #7f7f80;
      }
      .org-superstar-header-bullet {
      }
      .org-verbatim {
        /* org-verbatim */
        color: #b6e63e;
      }
      .rainbow-delimiters-depth-1 {
        /* rainbow-delimiters-depth-1-face */
        color: #eb4509;
      }
      .rainbow-delimiters-depth-2 {
        /* rainbow-delimiters-depth-2-face */
        color: #fd971f;
      }
      .rainbow-delimiters-depth-3 {
        /* rainbow-delimiters-depth-3-face */
        color: #b6e63e;
      }
      .regexp-grouping-backslash {
        /* font-lock-regexp-grouping-backslash */
        color: #9c91e4;
        font-weight: bold;
      }
      .regexp-grouping-construct {
        /* font-lock-regexp-grouping-construct */
        color: #9c91e4;
        font-weight: bold;
      }
      .string {
        /* font-lock-string-face */
        color: #e2c770;
      }
      .type {
        /* font-lock-type-face */
        color: #66d9ef;
      }
      .variable-name {
        /* font-lock-variable-name-face */
        color: #fd971f;
      }

      a {
        color: inherit;
        background-color: inherit;
        font: inherit;
        text-decoration: inherit;
      }
      a:hover {
        text-decoration: underline;
      }
    -->
    </style>
  </head>
  <body>
    <pre>
<span class="org-document-info-keyword">#+TITLE:</span>      <span class="org-document-title">Org-sync tutorial
</span><span class="org-document-info-keyword">#+AUTHOR:</span>     <span class="org-document-info">Aur&#233;lien Aptel
</span><span class="org-document-info-keyword">#+EMAIL:</span>      <span class="org-document-info">aurelien.aptel@gmail.com
</span><span class="org-meta-line">#+OPTIONS:    H:3 num:nil toc:2 \n:nil ::t |:t ^:{} -:t f:t *:t tex:t d:(HIDE) tags:not-in-toc</span>
<span class="org-meta-line">#+STARTUP:    align fold nodlcheck hidestars oddeven lognotestate hideblocks</span>
<span class="org-meta-line">#+SEQ_TODO:   TODO(t) INPROGRESS(i) WAITING(w@) | DONE(d) CANCELED(c@)</span>
<span class="org-meta-line">#+TAGS:       Write(w) Update(u) Fix(f) Check(c) noexport(n)</span>
<span class="org-meta-line">#+LANGUAGE:   en</span>
<span class="org-meta-line">#+HTML_LINK_UP:    ../index.html</span>
<span class="org-meta-line">#+HTML_LINK_HOME:  <a href="https://orgmode.org/worg/">https://orgmode.org/worg/</a></span>
<span class="org-meta-line">#+EXCLUDE_TAGS: noexport</span>

<span class="comment"># This file is released by its authors and contributors under the GNU</span>
<span class="comment"># Free Documentation license v1.3 or later, code examples are released</span>
<span class="comment"># under the GNU General Public License v3 or later.</span>

<span class="italic">An Org-sync tutorial</span>

<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Introduction
</span>
Org-sync is a tool to synchronize online bugtrackers with org
documents.

<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Installation
</span>
<span class="org-hide">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Check out Org-sync
</span><span class="org-hide">**</span><span class="org-level-3"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-3"> </span><span class="org-level-3"><span class="custom">TODO</span></span><span class="org-level-3"> Fix the repo link
</span>Make sure to checkout the same revision this tutorial was written with.

<span class="org-block-begin-line">#+begin_src sh
</span><span class="org-block"><span class="type">git</span></span><span class="org-block"> clone git://orgmode.org/org-sync.git
</span><span class="org-block"><span class="type">git</span></span><span class="org-block"> checkout 8222ec31f
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-hide">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Org-element
</span>
Org-sync uses Nicolas Goaziou's new parser, org-element.  It's in the
contrib directory of Org-mode which is not included in vanilla Emacs.

If you don't have it you can download a recent version from the
Org-mode repo and move it to your Org-sync directory.

<span class="org-block-begin-line">#+begin_src sh
</span><span class="org-block">wget -O org-element.el </span><span class="org-block"><span class="string">'https://code.orgmode.org/bzg/org-mode/raw/5057ae0fc2c0d551a83d3c3e9bd621b751db9f09/contrib/lisp/org-element.el'</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-hide">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Loading
</span>
Add Org-sync directory to your load-path and load the backend you
want.

<span class="org-block-begin-line">#+begin_src emacs-lisp
</span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">add-to-list</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="variable-name">load-path</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"path/to/org-sync"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">mapc</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">load</span></span><span class="org-block">
      </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="string">"org-element"</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"os"</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"os-bb"</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"os-github"</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"os-rmine"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
Phew!  Still there?  Good because it's starting to get interesting...

<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Tutorial
</span>
There is a <span class="kc-org-link-url"><a href="https://www.youtube.com/watch?v=kbj6-j0teCY">demo video on youtube</a></span> that covers the Bitbucket backend and
conflicts handling.  Check it out.

In this tutorial we will sync some bugs from <span class="kc-org-link-url"><a href="http://github.com/ostesting/test">this github repo</a></span>.

There are 3 interactive command in Org-sync:

<span class="org-list-dt">-</span> <span class="org-verbatim">os-import</span> to import a document in the current buffer at point.
<span class="org-list-dt">-</span> <span class="org-verbatim">os-sync</span> to sync all the imported documents in the buffer.
<span class="org-list-dt">-</span> <span class="org-verbatim">os</span> which does both depending on the buffer content.  It calls
  <span class="org-verbatim">os-import</span> if there is nothing to sync in the buffer, <span class="org-verbatim">os-sync</span>
  otherwise.

Open a new buffer, switch to org-mode (<span class="org-verbatim">M-x org-mode</span>).

To import a document in a new buffer you can just run <span class="org-verbatim">M-x os</span>.  It
prompts you for an URL.

<span class="org-link"><a href="file:import.png">file:import.png</a></span>

Org-sync should import the issues from the repo.

<span class="org-link"><a href="file:import-ok.png">file:import-ok.png</a></span>

Now, let's try to change an issue.  First you have to set a
user/password to be able to modify the issue remotely.

Set the variable <span class="org-verbatim">os-github-auth</span> to like so:
<span class="org-verbatim">(setq os-github-auth (cons "ostesting" "thisisostesting42"))</span>.

Here I have just typed it in my org-buffer, put the cursor after the
last closing paren and hit <span class="org-verbatim">C-x C-e</span>.

<span class="org-link"><a href="file:auth-setup.png">file:auth-setup.png</a></span>

I've made some change in the first issue. Let's sync with <span class="org-verbatim">M-x os</span>.

<span class="org-link"><a href="file:first-sync.png">file:first-sync.png</a></span>

Once it's done you should see a message indicating it.

<span class="org-link"><a href="file:sync-ok.png">file:sync-ok.png</a></span>

You can check on github to make sure it worked:

<span class="org-link"><a href="file:on-github.png">file:on-github.png</a></span>

Now, let's try to add a new issue.  Insert something like <span class="org-verbatim">** OPEN my
test issue</span>.  You can type a description under it if you want.

<span class="org-link"><a href="file:try-new.png">file:try-new.png</a></span>

The next step is simple, just run <span class="org-verbatim">M-x os</span>.  It will sync all issues
in the buffer. If you don't see the new issue, it was probably added
at the bottom of the list, just scroll down you buffer.

<span class="org-link"><a href="file:new-ok.png">file:new-ok.png</a></span>


<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> How to write a new backend
</span>
Writing a new backend is easy.  If something is not clear, try to read
the header in <span class="org-verbatim">os.el</span> or one of the existing backend.

<span class="org-block-begin-line">#+begin_src emacs-lisp
</span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">backend symbol/name: demo
</span></span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">the symbol is used to find and call your backend functions (for now)
</span></span><span class="org-block">
</span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">what kind of urls does you backend handle?
</span></span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">add it to os-backend-alist in os.el:
</span></span><span class="org-block">
</span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="keyword">defvar</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">os-backend-alist</span></span><span class="org-block">
  </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"github.com/</span></span><span class="org-block"><span class="string"><span class="regexp-grouping-backslash">\\</span></span></span><span class="org-block"><span class="string"><span class="regexp-grouping-construct">(?:</span></span></span><span class="org-block"><span class="string">repos/</span></span><span class="org-block"><span class="string"><span class="regexp-grouping-backslash">\\</span></span></span><span class="org-block"><span class="string"><span class="regexp-grouping-construct">)</span></span></span><span class="org-block"><span class="string">?[</span></span><span class="org-block"><span class="string"><span class="negation-char">^</span></span></span><span class="org-block"><span class="string">/]+/[</span></span><span class="org-block"><span class="string"><span class="negation-char">^</span></span></span><span class="org-block"><span class="string">/]+"</span></span><span class="org-block">  . os-github-backend</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
    </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"bitbucket.org/[</span></span><span class="org-block"><span class="string"><span class="negation-char">^</span></span></span><span class="org-block"><span class="string">/]+/[</span></span><span class="org-block"><span class="string"><span class="negation-char">^</span></span></span><span class="org-block"><span class="string">/]+"</span></span><span class="org-block">              . os-bb-backend</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
    </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"demo.com"</span></span><span class="org-block">                               . os-demo-backend</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">

</span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">if you have already loaded os.el, you'll have to add it
</span></span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">manually in that case just eval this in *scratch*
</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">add-to-list</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">os-backend-alist</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">cons</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"demo.com"</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">os-demo-backend</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">

</span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">now, in its own file os-demo.el:
</span></span><span class="org-block">
</span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">require</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="constant">org-sync</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">

</span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">this is the variable used in os-backend-alist
</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="keyword">defvar</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">os-demo-backend</span></span><span class="org-block">
  </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block">base-url      . os-demo-base-url</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
    </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block">fetch-buglist . os-demo-fetch-buglist</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
    </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block">send-buglist  . os-demo-send-buglist</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
  </span><span class="org-block"><span class="doc">"Demo backend."</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">


</span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">this overrides os--base-url.
</span></span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">the argument is the url the user gave.
</span></span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">it must return a cannonical version of the url that will be
</span></span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">available to your backend function in the os-base-url variable.
</span></span><span class="org-block">
</span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">In the github backend, it returns API base url
</span></span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">ie. <a href="https://api.github/reposa/">https://api.github/reposa/</a>&lt;user&gt;/&lt;repo&gt;
</span></span><span class="org-block">
</span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="keyword">defun</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">os-demo-base-url</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block">url</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
  </span><span class="org-block"><span class="doc">"Return proper URL."</span></span><span class="org-block">
  </span><span class="org-block"><span class="string">"<a href="http://api.demo.com/foo">http://api.demo.com/foo</a>"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">

</span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">this overrides os--fetch-buglist
</span></span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">you can use the variable os-base-url
</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="keyword">defun</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">os-demo-fetch-buglist</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block">last-update</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
  </span><span class="org-block"><span class="doc">"Fetch buglist from demo.com (anything that happened after LAST-UPDATE)"</span></span><span class="org-block">
  </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">a buglist is just a plist
</span></span><span class="org-block">  </span><span class="org-block"><span class="highlight-quoted-quote">`</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="builtin">:title</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"Stuff at demo.com"</span></span><span class="org-block">
           </span><span class="org-block"><span class="builtin">:url</span></span><span class="org-block"> ,os-base-url

           </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">add a :since property set to last-update if you return
</span></span><span class="org-block">           </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">only the bugs updated since it.  omit it or set it to
</span></span><span class="org-block">           </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">nil if you ignore last-update and fetch all the bugs of
</span></span><span class="org-block">           </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">the repo.
</span></span><span class="org-block">
           </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">bugs contains a list of bugs
</span></span><span class="org-block">           </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">a bug is a plist too
</span></span><span class="org-block">           </span><span class="org-block"><span class="builtin">:bugs</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="builtin">:id</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-numbers-number">1</span></span><span class="org-block"> </span><span class="org-block"><span class="builtin">:title</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"Foo"</span></span><span class="org-block"> </span><span class="org-block"><span class="builtin">:status</span></span><span class="org-block"> open </span><span class="org-block"><span class="builtin">:desc</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"bar."</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">

</span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">this overrides os--send-buglist
</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="keyword">defun</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">os-demo-send-buglist</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block">buglist</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
  </span><span class="org-block"><span class="doc">"Send BUGLIST to demo.com and return updated buglist"</span></span><span class="org-block">
  </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">here you should loop over :bugs in buglist
</span></span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">dolist</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block">b </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block">os-get-prop </span><span class="org-block"><span class="builtin">:bugs</span></span><span class="org-block"> buglist</span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
    </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">cond</span></span><span class="org-block">
      </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">new bug (no id)
</span></span><span class="org-block">      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">null</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block">os-get-prop </span><span class="org-block"><span class="builtin">:id</span></span><span class="org-block"> b</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
        </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block">do-stuff</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">

      </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">delete bug
</span></span><span class="org-block">      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block">os-get-prop </span><span class="org-block"><span class="builtin">:delete</span></span><span class="org-block"> b</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
        </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block">do-stuff</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">

      </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">else, modified bug
</span></span><span class="org-block">      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block">t
        </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block">do-stuff</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">

  </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">return any bug that has changed (modification date, new bugs,
</span></span><span class="org-block">  </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">etc).  they will overwrite/be added in the buglist in os.el
</span></span><span class="org-block">
  </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">we return the same thing for the demo.
</span></span><span class="org-block">  </span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">:bugs is the only property used from this function in os.el
</span></span><span class="org-block">  </span><span class="org-block"><span class="highlight-quoted-quote">`</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="builtin">:bugs</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="builtin">:id</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-numbers-number">1</span></span><span class="org-block"> </span><span class="org-block"><span class="builtin">:title</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"Foo"</span></span><span class="org-block"> </span><span class="org-block"><span class="builtin">:status</span></span><span class="org-block"> open </span><span class="org-block"><span class="builtin">:desc</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"bar."</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
That's it.  A bug has to have at least an id, title and status
properties.  Other recognized but optionnal properties are
<span class="org-verbatim">:date-deadline</span>, <span class="org-verbatim">:date-creation</span>, <span class="org-verbatim">:date-modification</span>, <span class="org-verbatim">:desc</span>.
Any other properties are automatically added in the <span class="org-verbatim">PROPERTIES</span> block
of the bug via <span class="org-verbatim">prin1-to-string</span> and are <span class="org-verbatim">read</span> back by org-sync.  All
the dates are regular emacs time object.  For more details you can
look at the github backend in <span class="org-verbatim">os-github.el</span>.

<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> More information
</span>
You can find more in the <span class="org-verbatim">os.el</span> commentary headers.

There is also <span class="kc-org-link-url"><a href="https://www.youtube.com/watch?v=kbj6-j0teCY">demo video on youtube</a></span> that covers the Bitbucket backend
and conflicts handling.  Check it out.
</pre>
  </body>
</html>
