<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<!-- Created by htmlize-1.56 in css mode. -->
<html>
  <head>
    <title>ob-doc-mathomatic.org</title>
    <style type="text/css">
    <!--
      body {
        color: #d6d6d4;
        background-color: #161719;
      }
      .bold {
        /* bold */
        font-weight: bold;
      }
      .comment {
        /* font-lock-comment-face */
        color: #696969;
      }
      .comment-delimiter {
        /* font-lock-comment-delimiter-face */
        color: #696969;
      }
      .constant {
        /* font-lock-constant-face */
        color: #fd971f;
      }
      .custom {
      }
      .function-name {
        /* font-lock-function-name-face */
        color: #b6e63e;
      }
      .highlight-quoted-quote {
        /* highlight-quoted-quote */
        color: #9c91e4;
      }
      .italic {
        /* italic */
        font-style: italic;
      }
      .kc-org-link-url {
        /* kc-org-link-url */
        color: #d02090;
        text-decoration: underline;
      }
      .org-block {
        /* org-block */
        background-color: #000000;
      }
      .org-block-begin-line {
        /* org-block-begin-line */
        color: #696969;
      }
      .org-block-end-line {
        /* org-block-end-line */
        color: #696969;
      }
      .org-document-info {
        /* org-document-info */
        color: #fd971f;
      }
      .org-document-info-keyword {
        /* org-document-info-keyword */
        color: #555556;
      }
      .org-document-title {
        /* org-document-title */
        color: #fd971f;
        font-weight: bold;
      }
      .org-footnote {
        /* org-footnote */
        color: #fd971f;
      }
      .org-hide {
        /* org-hide */
        color: #161719;
      }
      .org-level-1 {
        /* org-level-1 */
        color: #eb4509;
        font-weight: bold;
      }
      .org-level-2 {
        /* org-level-2 */
        color: #f0b144;
        font-weight: bold;
      }
      .org-list-dt {
        /* org-list-dt */
        color: #e2c770;
      }
      .org-meta-line {
        /* org-meta-line */
        color: #7f7f80;
      }
      .org-superstar-header-bullet {
      }
      .org-tag {
        /* org-tag */
        color: #e2c770;
      }
      .org-verbatim {
        /* org-verbatim */
        color: #b6e63e;
      }
      .rainbow-delimiters-depth-1 {
        /* rainbow-delimiters-depth-1-face */
        color: #eb4509;
      }
      .string {
        /* font-lock-string-face */
        color: #e2c770;
      }
      .variable-name {
        /* font-lock-variable-name-face */
        color: #fd971f;
      }

      a {
        color: inherit;
        background-color: inherit;
        font: inherit;
        text-decoration: inherit;
      }
      a:hover {
        text-decoration: underline;
      }
    -->
    </style>
  </head>
  <body>
    <pre>
<span class="org-document-info-keyword">#+TITLE:</span>  <span class="org-document-title">Org-babel-mathomatic
</span><span class="org-document-info-keyword">#+AUTHOR:</span> <span class="org-document-info">Luis Anaya
</span><span class="org-document-info-keyword">#+EMAIL:</span>  <span class="org-document-info">papoanaya[at]hotmail[dot]com
</span><span class="org-meta-line">#+HTML_LINK_UP:    index.html</span>
<span class="org-meta-line">#+HTML_LINK_HOME:  <a href="https://orgmode.org/worg/">https://orgmode.org/worg/</a></span>
<span class="org-meta-line">#+OPTIONS:    H:3 num:nil toc:2 \n:nil ::t |:t ^:{} -:t f:t *:t tex:t d:(HIDE) tags:not-in-toc</span>
<span class="org-meta-line">#+STARTUP:    align fold nodlcheck hidestars oddeven lognotestate hideblocks</span>
<span class="org-meta-line">#+SEQ_TODO:   TODO(t) INPROGRESS(i) WAITING(w@) | DONE(d) CANCELED(c@)</span>
<span class="org-meta-line">#+TAGS:       Write(w) Update(u) Fix(f) Check(c) noexport(n)</span>
<span class="org-meta-line">#+LANGUAGE:   en</span>

<span class="org-block-begin-line">#+begin_export html
</span><span class="org-block">  &lt;</span><span class="org-block"><span class="function-name">div</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">id</span></span><span class="org-block">=</span><span class="org-block"><span class="string">"subtitle"</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">style</span></span><span class="org-block">=</span><span class="org-block"><span class="string">"float: center; text-align: center;"</span></span><span class="org-block">&gt;
  &lt;</span><span class="org-block"><span class="function-name">p</span></span><span class="org-block">&gt;
  Org-babel support for
  &lt;</span><span class="org-block"><span class="function-name">a</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">href</span></span><span class="org-block">=</span><span class="org-block"><span class="string">"<a href="https://github.com/mfillpot/mathomatic/">https://github.com/mfillpot/mathomatic/</a>"</span></span><span class="org-block">&gt;Mathomatic&lt;/</span><span class="org-block"><span class="function-name">a</span></span><span class="org-block">&gt;
  &lt;/</span><span class="org-block"><span class="function-name">p</span></span><span class="org-block">&gt;
  &lt;/</span><span class="org-block"><span class="function-name">div</span></span><span class="org-block">&gt;
</span><span class="org-block-end-line">#+end_export
</span><span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Introduction
</span><span class="org-verbatim">org-babel-mathomatic</span> allows Mathomatic statements to be executed directly
within embedded code blocks in Org-mode documents. These code blocks and
its results can be included as the document is exported to documentation
formats.

The following provides instructions and some examples of Mathomatic
usage. Since babel is simply allowing native code to run inside of
Org-mode, all Mathomatic documentation is applicable and valid.
<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Requirements and Setup
</span>Mathomatic is a small Computer Algebra System (CAS) written in C. The
program is quite portable and useful, and quite suitable for small
systems.

To get Mathomatic up and running, you need the <span class="org-verbatim">mathomatic</span> program
installed in your system. You can obtain and compile <span class="org-verbatim">mathomatic</span> from
<span class="kc-org-link-url"><a href="https://github.com/mfillpot/mathomatic">GitHub</a></span>, or perhaps install it with a package manager.

To enable support for Mathomatic, it must be enabled as part of your
initialization script. For example:

<span class="org-block-begin-line">#+begin_src emacs-lisp
</span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">set up babel support
</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">require</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="constant">org</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">require</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="constant">ob-mathomatic</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block"><span class="comment-delimiter">;; </span></span><span class="org-block"><span class="comment">add additional languages with (require 'ob-language)
</span></span><span class="org-block-end-line">#+end_src
</span>
Babel block headers are used to pass various arguments to control the
results of the executed code. The complete list of header arguments
is covered in the Org-mode manual; for now, some options frequently used for
tclsh are:
<span class="org-list-dt">-</span> <span class="org-verbatim">:exports {code, results, both, none}</span>
  <span class="org-list-dt">-</span> When the code is run and the document exported (e.g. to HTML or
    \LaTeX PDF), what should appear? Just the code block itself? Only
    the produced output (in this case a plot of some sort)? Both the
    code and the accompanying results? Or nothing?
<span class="org-list-dt">-</span> <span class="org-verbatim">:results {value, output}</span>
  <span class="org-list-dt">-</span> Controls the results of the output. Only two alternatives are
    allowed:
  <span class="org-list-dt">-</span> <span class="italic"><span class="org-list-dt">value</span></span><span class="org-list-dt"> ::</span> Returns the value of the last <span class="org-verbatim">return</span> statement in the
               code. and places in <span class="org-verbatim">#+RESULTS:</span>.
  <span class="org-list-dt">-</span> <span class="italic"><span class="org-list-dt">output</span></span><span class="org-list-dt"> ::</span> Returns the value of the <span class="org-verbatim">puts</span> or <span class="org-verbatim">write</span> statement and
                places those in <span class="org-verbatim">#+RESULTS:</span>.
<span class="org-list-dt">-</span> <span class="org-verbatim">:file foo.{png,eps,etc.}</span>
  <span class="org-list-dt">-</span> Mathomatic uses gnuplot as its plotting engine. Using the <span class="org-verbatim">:file</span>
    option specifies where the resulting output should be put. If
    no option is given, a Gnuplot window will open with the
    resultant plot.
    <span class="bold">NOTE:</span> Certain plot options may <span class="italic">not</span> output
    properly to Gnuplot directly and thus <span class="italic">must</span> have the <span class="org-verbatim">:file
    filename</span> option in the header. If the error "Code block produced
    no output" recurs, try outputting to a file.

<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Overview
</span>Mathomatic is a comprehensive CAS that includes many options and
features.
Describing these are beyond the scope of this
manual. However, the examples provided in this guide should
be easy enough to follow to
those that have used similar programs in the past.
interested in learning about Mathomatic, please refer to the official documents

Through this overview, Any of the commands
typed in <span class="org-verbatim">code</span> font below should be assumed to reside in a babel
code block (between <span class="org-verbatim">#+begin_src mathomatic</span> and <span class="org-verbatim">#+end_src</span>).

To run a Mathomatic block  and produce a result from the babel block
move the cursor anywhere in the code
block and press <span class="org-verbatim">C-c C-c</span> (Ctrl+C followed by Ctrl+C) and type "yes"
in the minibuffer when asked about executing the code.

<span class="org-hide">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Basic Use
</span>An example of a Mathomatic  block in Org-babel is as follows:

<span class="org-block-begin-line">#+begin_example
</span><span class="custom">#+begin_src mathomatic :results output
x + 2
eliminate x
#+end_src

#+RESULTS: mathotest
: </span><span class="custom"><span class="org-tag">#1:</span></span><span class="custom"> x = 0
: </span><span class="custom"><span class="org-tag">#2:</span></span><span class="custom"> x + 2
: Eliminating variable x using solved equation </span><span class="custom"><span class="org-tag">#1</span></span><span class="custom">...
: </span><span class="custom"><span class="org-tag">#2:</span></span><span class="custom"> 2
</span><span class="org-block-end-line">#+end_example
</span>
Using <span class="org-verbatim">:results output</span> describes all the steps executed in the
code. using <span class="org-verbatim">:results value</span> will write the results in a table. For
example:

<span class="org-block-begin-line">#+begin_example
</span><span class="custom">#+begin_src mathomatic :results value
x = 0
x + 2
eliminate x
ans = x
#+end_src

#+RESULTS:
| </span><span class="custom"><span class="org-tag">#1:</span></span><span class="custom">         | x        | = |     0 |        |          |       |
| </span><span class="custom"><span class="org-tag">#2:</span></span><span class="custom">         | x        | + |     2 |        |          |       |
| Eliminating | variable | x | using | solved | equation | </span><span class="custom"><span class="org-tag">#1</span></span><span class="custom">... |
| </span><span class="custom"><span class="org-tag">#2:</span></span><span class="custom">         | 2        |   |       |        |          |       |
| </span><span class="custom"><span class="org-tag">#3:</span></span><span class="custom">         | ans      | = |     x |        |          |       |
</span><span class="org-block-end-line">#+end_example
</span>

<span class="org-hide">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Graphical output
</span>Graphical output is supported in Mathomatic which can be stored using
the <span class="org-verbatim">:file</span> header option. The following output formats are supported
within Mathomatic: <span class="org-footnote">[fn:1]</span>
<span class="org-list-dt">-</span> Encapsulated Postscript <span class="org-verbatim">.eps</span>
<span class="org-list-dt">-</span> Portable Network Graphics <span class="org-verbatim">.png</span>
<span class="org-list-dt">-</span> Postscript <span class="org-verbatim">.ps</span>
<span class="org-list-dt">-</span> Groff PIC <span class="org-verbatim">.pic</span>

<span class="org-block-begin-line">#+begin_example
</span><span class="custom">#+begin_src mathomatic :results graphics :file sine.png
plot sin(x)
#+end_src

#+RESULTS:
<a href="file:sine.png">[[file:sine.png]]</a>
</span><span class="org-block-end-line">#+end_example
</span>
In order to get graphical output during evaluation use the Mathomatic <span class="org-verbatim">plot</span>
command within Mathomatic. The file suffix will configure Gnuplot to
write the right file format.

<span class="org-hide">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Named Procedures
</span>The Babel Mathomatic plugin supports the use of named procedures and calls
operations. The use of these are detailed in the <span class="italic">Org Manual</span>.  This
manual will describe how they are used within the context of a Mathomatic
script.

A variable can be passed to a Mathomatic script which can be used to call the
aforementioned program later on in your org document.  The following
example is a program that evaluates X+2.

<span class="org-block-begin-line">#+begin_example
</span><span class="custom">#+name: mathotest(x=0)
#+begin_src mathomatic :results output
x + 2
eliminate x
#+end_src

#+RESULTS: mathotest
: </span><span class="custom"><span class="org-tag">#1:</span></span><span class="custom"> x = 0
: </span><span class="custom"><span class="org-tag">#2:</span></span><span class="custom"> x + 2
: Eliminating variable x using solved equation </span><span class="custom"><span class="org-tag">#1</span></span><span class="custom">...
: </span><span class="custom"><span class="org-tag">#2:</span></span><span class="custom"> 2
</span><span class="org-block-end-line">#+end_example
</span>
Calling the named script with a different value will result in a
different execution. For example:

<span class="org-block-begin-line">#+begin_example
</span><span class="custom">#+call: mathotest(x=30)

#+RESULTS: mathotest(x=30)
: </span><span class="custom"><span class="org-tag">#1:</span></span><span class="custom"> x = 30
: </span><span class="custom"><span class="org-tag">#2:</span></span><span class="custom"> x + 2
: Eliminating variable x using solved equation </span><span class="custom"><span class="org-tag">#1</span></span><span class="custom">...
: </span><span class="custom"><span class="org-tag">#2:</span></span><span class="custom"> 32
</span><span class="org-block-end-line">#+end_example
</span>
Note that table processing is not supported. This is because Mathomatic
does not have support for matrixes. However there are
plans to provide this in the future through the use of simulated
arrays.  A simulated array is a syntactic sugar in Mathomatic to enclose
indexes in square brackets (<span class="italic">[]</span>).

<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Footnotes
</span>
<span class="org-footnote">[fn:1]</span> Mathomatic uses Gnuplot as its plot engine. All plot modes are
supported in Mathomatic. However, for convenience, only these are
supported in the <span class="org-verbatim">:file</span> option.
</pre>
  </body>
</html>
