<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<!-- Created by htmlize-1.56 in css mode. -->
<html>
  <head>
    <title>library-of-babel.org</title>
    <style type="text/css">
    <!--
      body {
        color: #d6d6d4;
        background-color: #161719;
      }
      .bold {
        /* bold */
        font-weight: bold;
      }
      .comment {
        /* font-lock-comment-face */
        color: #696969;
      }
      .constant {
        /* font-lock-constant-face */
        color: #fd971f;
      }
      .function-name {
        /* font-lock-function-name-face */
        color: #b6e63e;
      }
      .highlight-numbers-number {
        /* highlight-numbers-number */
        color: #9c91e4;
        font-weight: bold;
      }
      .highlight-quoted-quote {
        /* highlight-quoted-quote */
        color: #9c91e4;
      }
      .highlight-quoted-symbol {
        /* highlight-quoted-symbol */
        color: #66d9ef;
      }
      .keyword {
        /* font-lock-keyword-face */
        color: #eb4509;
      }
      .org-block {
        /* org-block */
        background-color: #000000;
      }
      .org-block-begin-line {
        /* org-block-begin-line */
        color: #696969;
      }
      .org-block-end-line {
        /* org-block-end-line */
        color: #696969;
      }
      .org-code {
        /* org-code */
        color: #dfd05e;
      }
      .org-document-info-keyword {
        /* org-document-info-keyword */
        color: #555556;
      }
      .org-document-title {
        /* org-document-title */
        color: #fd971f;
        font-weight: bold;
      }
      .org-level-1 {
        /* org-level-1 */
        color: #eb4509;
        font-weight: bold;
      }
      .org-level-2 {
        /* org-level-2 */
        color: #f0b144;
        font-weight: bold;
      }
      .org-level-3 {
        /* org-level-3 */
        color: #8ec298;
        font-weight: bold;
      }
      .org-link {
        /* org-link */
        color: #fd971f;
        font-weight: bold;
        text-decoration: underline;
      }
      .org-meta-line {
        /* org-meta-line */
        color: #7f7f80;
      }
      .org-special-keyword {
        /* org-special-keyword */
        color: #7f7f80;
      }
      .org-superstar-header-bullet {
      }
      .org-superstar-leading {
        /* org-superstar-leading */
        color: #bebebe;
        background-color: #010000;
      }
      .org-table {
        /* org-table */
        color: #9c91e4;
      }
      .org-tag {
        /* org-tag */
        color: #e2c770;
      }
      .org-verbatim {
        /* org-verbatim */
        color: #b6e63e;
      }
      .rainbow-delimiters-depth-1 {
        /* rainbow-delimiters-depth-1-face */
        color: #eb4509;
      }
      .rainbow-delimiters-depth-2 {
        /* rainbow-delimiters-depth-2-face */
        color: #fd971f;
      }
      .rainbow-delimiters-depth-3 {
        /* rainbow-delimiters-depth-3-face */
        color: #b6e63e;
      }
      .string {
        /* font-lock-string-face */
        color: #e2c770;
      }
      .variable-name {
        /* font-lock-variable-name-face */
        color: #fd971f;
      }

      a {
        color: inherit;
        background-color: inherit;
        font: inherit;
        text-decoration: inherit;
      }
      a:hover {
        text-decoration: underline;
      }
    -->
    </style>
  </head>
  <body>
    <pre>
<span class="org-document-info-keyword">#+title:</span>    <span class="org-document-title">The Library of Babel
</span><span class="org-meta-line">#+SEQ_TODO: TODO PROPOSED | DONE DEFERRED REJECTED</span>
<span class="org-meta-line">#+OPTIONS:    H:3 num:nil toc:2 \n:nil ::t |:t ^:t -:t f:t *:t tex:t d:(HIDE) tags:not-in-toc</span>
<span class="org-meta-line">#+STARTUP:  odd hideblocks</span>
<span class="org-meta-line">#+HTML_LINK_UP:  index.php</span>
<span class="org-meta-line">#+HTML_LINK_HOME: <a href="https://orgmode.org/worg/">https://orgmode.org/worg/</a></span>

<span class="comment"># This file is released by its authors and contributors under the GNU</span>
<span class="comment"># Free Documentation license v1.3 or later, code examples are released</span>
<span class="comment"># under the GNU General Public License v3 or later.</span>

<span class="org-block-begin-line">#+begin_export html
</span><span class="org-block">  &lt;</span><span class="org-block"><span class="function-name">div</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">id</span></span><span class="org-block">=</span><span class="org-block"><span class="string">"logo"</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">style</span></span><span class="org-block">=</span><span class="org-block"><span class="string">"float: left; text-align: center; max-width: 340px; font-size: 8pt; margin-left: 1em;"</span></span><span class="org-block">&gt;
    &lt;</span><span class="org-block"><span class="function-name">p</span></span><span class="org-block">&gt;
      &lt;</span><span class="org-block"><span class="function-name">img</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">src</span></span><span class="org-block">=</span><span class="org-block"><span class="string">"../../images/babel/library-of-babel.png"</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">alt</span></span><span class="org-block">=</span><span class="org-block"><span class="string">"Library of Babel"</span></span><span class="org-block">/&gt;
      &lt;</span><span class="org-block"><span class="function-name">div</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">id</span></span><span class="org-block">=</span><span class="org-block"><span class="string">"attr"</span></span><span class="org-block">&gt;
        The Library of Babel, by Pierre Clayette
        &lt;</span><span class="org-block"><span class="function-name">p</span></span><span class="org-block">&gt;
        &lt;</span><span class="org-block"><span class="function-name">a</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">href</span></span><span class="org-block">=</span><span class="org-block"><span class="string">"<a href="http://downlode.org/Etext/library_of_babel.html">http://downlode.org/Etext/library_of_babel.html</a>"</span></span><span class="org-block">&gt;Full text of the Borges short story&lt;/</span><span class="org-block"><span class="function-name">a</span></span><span class="org-block">&gt;
        &lt;/</span><span class="org-block"><span class="function-name">p</span></span><span class="org-block">&gt;
      &lt;/</span><span class="org-block"><span class="function-name">div</span></span><span class="org-block">&gt;
    &lt;/</span><span class="org-block"><span class="function-name">p</span></span><span class="org-block">&gt;  
  &lt;/</span><span class="org-block"><span class="function-name">div</span></span><span class="org-block">&gt;
</span><span class="org-block-end-line">#+end_export
</span>
<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Introduction
</span>  The Library of Babel is an extensible collection of ready-made and
  easily-shortcut-callable source-code blocks for handling common
  tasks.  Org-babel comes pre-populated with the source-code blocks
  located in this file. It is possible to add source-code blocks from
  any org-mode file to the library by calling <span class="org-verbatim">(org-babel-lob-ingest
  "path/to/file.org")</span>.
  
  This file is included in worg less for viewing through the web
  interface, and more for contribution through the worg git
  repository.  If you have code snippets that you think others may
  find useful please add them to this file and <span class="org-link"><a href="file:~/Documents/projects/worg/worg-about.org::*OK, I want to *contribute to Worg* now!">contribute</a></span> to
  worg.
  
  To use the Library of Babel, 

<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Plotting code
</span>
<span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> R
</span>  Plot column 2 (y axis) against column 1 (x axis). Columns 3 and beyond, if present, are ignored.

<span class="org-meta-line">  #+name: R-plot(data=R-plot-example-data)</span>
<span class="org-block-begin-line">#+begin_src R :session *R*
</span>plot(data)
<span class="org-block-end-line">#+end_src
</span>
<span class="org-meta-line">#+tblname: R-plot-example-data</span>
<span class="org-table">| 1 |  2 |</span>
<span class="org-table">| 2 |  4 |</span>
<span class="org-table">| 3 |  9 |</span>
<span class="org-table">| 4 | 16 |</span>
<span class="org-table">| 5 | 25 |</span>

<span class="org-meta-line">#+lob: R-plot(data=R-plot-example-data)</span>

<span class="org-meta-line">#+resname: R-plot(data=R-plot-example-data)</span>
<span class="org-code">: nil
</span>
<span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Gnuplot
</span>
<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Table/Matrix manipulation
</span><span class="org-superstar-leading">**</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Filtering a table by rows
</span><span class="org-meta-line">#+function: filter-table(table, field, value)</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp
</span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="keyword">defun</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">org-lob-filter-table</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block">table field value</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
    </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">and</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">&gt;</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">length</span></span><span class="org-block"> table</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-numbers-number">1</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
             </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">second</span></span><span class="org-block"> table</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">hline</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
        </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">append</span></span><span class="org-block">
         </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">list</span></span><span class="org-block">
          </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">first</span></span><span class="org-block"> table</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
          </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">hline</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
         </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block">org-lob-filter-table </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">cddr</span></span><span class="org-block"> table</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"> field value</span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">delq</span></span><span class="org-block"> nil
            </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">mapcar</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">lambda</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block">row</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
                      </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">cond</span></span><span class="org-block">
                       </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> row </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">hline</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">hline</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
                       </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">equal</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">nth</span></span><span class="org-block"> field row</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"> value</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"> row</span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
                    table</span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
  
  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block">org-lob-filter-table table field value</span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-superstar-leading">**</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Transposing a matrix
</span><span class="org-superstar-leading">****</span><span class="org-level-3"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-3"> </span><span class="org-special-keyword">COMMENT</span><span class="org-level-3"> Emacs 
</span>
FIXME: don't return error "variable "table" in block "transpose-elisp" must
be assigned a default value".

<span class="org-meta-line">#+name: transpose-elisp(table)</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp
</span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">apply</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote"><span class="org-tag">#'</span></span></span><span class="org-block"><span class="highlight-quoted-symbol"><span class="org-tag">mapcar*</span></span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote"><span class="org-tag">#'</span></span></span><span class="org-block"><span class="highlight-quoted-symbol"><span class="org-tag">list</span></span></span><span class="org-block"> table</span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-superstar-leading">****</span><span class="org-level-3"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-3"> Example usage
</span>
<span class="org-meta-line">#+tblname: transpose-example</span>
<span class="org-table">| 1 | 2 | 3 |</span>
<span class="org-table">| 4 | 5 | 6 |</span>

<span class="org-meta-line">#+lob: transpose-elisp(table=transpose-example)</span>

<span class="org-meta-line">#+resname: transpose-elisp(table=transpose-example)</span>
<span class="org-table">| 1 | 4 |</span>
<span class="org-table">| 2 | 5 |</span>
<span class="org-table">| 3 | 6 |</span>

<span class="org-superstar-leading">**</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Binding tables together by columns
</span><span class="org-superstar-leading">****</span><span class="org-level-3"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-3"> Emacs lisp
</span><span class="org-meta-line">#+name: column-bind-elisp(a=tab1, b=tab2)</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp 
</span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">mapcar*</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">append</span></span><span class="org-block"> a b</span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-superstar-leading">****</span><span class="org-level-3"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-3"> R
</span><span class="org-meta-line">#+name: column-bind-R(a=tab3, b=tab4)</span>
<span class="org-block-begin-line">#+begin_src R :colnames yes
</span>cbind(a, b)
<span class="org-block-end-line">#+end_src
</span>
<span class="org-superstar-leading">****</span><span class="org-level-3"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-3"> Example usage
</span>
Suppose the tables are

<span class="org-meta-line">#+tblname: tab1</span>
<span class="org-table">| 1 | 2 | 3 |</span>
<span class="org-table">| 7 | 8 | 9 |</span>

<span class="org-meta-line">#+tblname: tab2</span>
<span class="org-table">|  4 |  5 |  6 |</span>
<span class="org-table">| 10 | 11 | 12 |</span>

<span class="org-meta-line">#+lob: column-bind-elisp(tab1, tab2)</span>

<span class="org-meta-line">#+resname: column-bind-elisp(tab1, tab2)</span>
<span class="org-table">| 1 | 2 | 3 |  4 |  5 |  6 |</span>
<span class="org-table">| 7 | 8 | 9 | 10 | 11 | 12 |</span>

 The R code block can also cope with column names:

<span class="org-meta-line">#+tblname: tab3</span>
<span class="org-table">| a | b | c |</span>
<span class="org-table">|---+---+---|</span>
<span class="org-table">| 1 | 2 | 3 |</span>
<span class="org-table">| 7 | 8 | 9 |</span>

<span class="org-meta-line">#+tblname: tab4</span>
<span class="org-table">|  d |  e |  f |</span>
<span class="org-table">|----+----+----|</span>
<span class="org-table">|  4 |  5 |  6 |</span>
<span class="org-table">| 10 | 11 | 12 |</span>
</pre>
  </body>
</html>
