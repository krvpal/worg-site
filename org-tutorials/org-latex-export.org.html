<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<!-- Created by htmlize-1.56 in css mode. -->
<html>
  <head>
    <title>org-latex-export.org</title>
    <style type="text/css">
    <!--
      body {
        color: #d6d6d4;
        background-color: #161719;
      }
      .bold {
        /* bold */
        font-weight: bold;
      }
      .builtin {
        /* font-lock-builtin-face */
        color: #fd971f;
      }
      .comment {
        /* font-lock-comment-face */
        color: #696969;
      }
      .constant {
        /* font-lock-constant-face */
        color: #fd971f;
      }
      .custom {
      }
      .font-latex-sedate {
        /* font-latex-sedate-face */
        color: #d3d3d3;
      }
      .function-name {
        /* font-lock-function-name-face */
        color: #b6e63e;
      }
      .highlight-numbers-number {
        /* highlight-numbers-number */
        color: #9c91e4;
        font-weight: bold;
      }
      .highlight-quoted-quote {
        /* highlight-quoted-quote */
        color: #9c91e4;
      }
      .highlight-quoted-symbol {
        /* highlight-quoted-symbol */
        color: #66d9ef;
      }
      .italic {
        /* italic */
        font-style: italic;
      }
      .kc-org-link-url {
        /* kc-org-link-url */
        color: #d02090;
        text-decoration: underline;
      }
      .keyword {
        /* font-lock-keyword-face */
        color: #eb4509;
      }
      .org-block {
        /* org-block */
        background-color: #000000;
      }
      .org-block-begin-line {
        /* org-block-begin-line */
        color: #696969;
      }
      .org-block-end-line {
        /* org-block-end-line */
        color: #696969;
      }
      .org-code {
        /* org-code */
        color: #dfd05e;
      }
      .org-document-info {
        /* org-document-info */
        color: #fd971f;
      }
      .org-document-info-keyword {
        /* org-document-info-keyword */
        color: #555556;
      }
      .org-document-title {
        /* org-document-title */
        color: #fd971f;
        font-weight: bold;
      }
      .org-footnote {
        /* org-footnote */
        color: #fd971f;
      }
      .org-level-1 {
        /* org-level-1 */
        color: #eb4509;
        font-weight: bold;
      }
      .org-level-2 {
        /* org-level-2 */
        color: #f0b144;
        font-weight: bold;
      }
      .org-level-3 {
        /* org-level-3 */
        color: #8ec298;
        font-weight: bold;
      }
      .org-link {
        /* org-link */
        color: #fd971f;
        font-weight: bold;
        text-decoration: underline;
      }
      .org-list-dt {
        /* org-list-dt */
        color: #e2c770;
      }
      .org-meta-line {
        /* org-meta-line */
        color: #7f7f80;
      }
      .org-superstar-header-bullet {
      }
      .org-superstar-leading {
        /* org-superstar-leading */
        color: #bebebe;
        background-color: #010000;
      }
      .org-tag {
        /* org-tag */
        color: #e2c770;
      }
      .org-target {
        /* org-target */
        text-decoration: underline;
      }
      .org-verbatim {
        /* org-verbatim */
        color: #b6e63e;
      }
      .rainbow-delimiters-depth-1 {
        /* rainbow-delimiters-depth-1-face */
        color: #eb4509;
      }
      .rainbow-delimiters-depth-2 {
        /* rainbow-delimiters-depth-2-face */
        color: #fd971f;
      }
      .rainbow-delimiters-depth-3 {
        /* rainbow-delimiters-depth-3-face */
        color: #b6e63e;
      }
      .string {
        /* font-lock-string-face */
        color: #e2c770;
      }
      .type {
        /* font-lock-type-face */
        color: #66d9ef;
      }
      .variable-name {
        /* font-lock-variable-name-face */
        color: #fd971f;
      }

      a {
        color: inherit;
        background-color: inherit;
        font: inherit;
        text-decoration: inherit;
      }
      a:hover {
        text-decoration: underline;
      }
    -->
    </style>
  </head>
  <body>
    <pre>
<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Settings                                                         </span><span class="org-level-1"><span class="org-tag">:noexport:</span></span><span class="org-level-1">
</span>
<span class="org-document-info-keyword">#+TITLE:</span>   <span class="org-document-title">LaTeX Export for Org Mode &lt; 8.0
</span><span class="org-document-info-keyword">#+AUTHOR:</span>    <span class="org-document-info">Tom Dye
</span><span class="org-document-info-keyword">#+EMAIL:</span>     <span class="org-document-info">tsd@tsdye2.com
</span><span class="org-document-info-keyword">#+DATE:</span>      <span class="org-document-info">2010-04-24 Sat
</span><span class="org-meta-line">#+DESCRIPTION:</span>
<span class="org-meta-line">#+KEYWORDS:</span>
<span class="org-meta-line">#+LANGUAGE:  en</span>
<span class="org-meta-line">#+OPTIONS:    H:3 num:t toc:t \n:nil ::t |:t ^:t -:t f:t *:t tex:t d:(HIDE) tags:not-in-toc</span>
<span class="org-meta-line">#+OPTIONS:   &lt;:t d:nil todo:t pri:nil tags:not-in-toc</span>
<span class="org-meta-line">#+INFOJS_OPT: view:nil toc:nil ltoc:t mouse:underline buttons:0 path:<a href="https://orgmode.org/org-info.js">https://orgmode.org/org-info.js</a></span>
<span class="org-meta-line">#+SELECT_TAGS: export</span>
<span class="org-meta-line">#+EXCLUDE_TAGS: noexport</span>
<span class="org-meta-line">#+HTML_LINK_UP:</span>
<span class="org-meta-line">#+HTML_LINK_HOME:</span>

<span class="comment"># This file is released by its authors and contributors under the GNU</span>
<span class="comment"># Free Documentation license v1.3 or later, code examples are released</span>
<span class="comment"># under the GNU General Public License v3 or later.</span>

<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Start up
</span>Org-mode LaTeX export is easy.  Place the following code in your
.emacs and you're ready to go.

<span class="org-block-begin-line">#+begin_src emacs-lisp
</span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">require</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="constant">ox-latex</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="keyword">unless</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">boundp</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="variable-name">org-latex-classes</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
    </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">setq</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">org-latex-classes</span></span><span class="org-block"> nil</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">add-to-list</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="variable-name">org-latex-classes</span></span><span class="org-block">
               </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="string">"article"</span></span><span class="org-block">
                 </span><span class="org-block"><span class="string">"\\documentclass{article}"</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"\\section{%s}"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"\\section*{%s}"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
This tells the Org-mode LaTeX exporter to use the standard LaTeX
<span class="org-verbatim">article</span> document class by default and to map Org-mode headlines and
lists to LaTeX sectioning and list commands, as follows:

<span class="org-block-begin-line">#+begin_src org
</span><span class="org-block">  ,* section
  ,** itemize
  ,*** itemize, etc.
  ,    - itemize
</span><span class="org-block-end-line">#+end_src
</span>
Now you can pick a LaTeX export command from the export menu, <span class="org-verbatim">C-c
C-e</span>, and expect to find a well-formed LaTeX document with the same
base name as your org-mode buffer.

It could hardly be easier!

<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Why LaTeX Export?
</span>
As the manual says, "Org is a mode for keeping notes, maintaining TODO
lists, and doing project planning with a fast and effective plain-text
system."  LaTeX is a convenient interface to TeX, a typesetting system
that its author "intended for the creation of beautiful books &#8212; and
especially for books that contain a lot of mathematics."  Where do
these two activities--keeping notes and making beautiful books--overlap?

Org-mode is well supplied with a variety of other exporters.  The Org
ASCII exporter produces a readable and simple version of an Org file
for printing and sharing of notes.  The HTML exporter does such a good
job of preparing notes for the web that many people use it to create
entire web sites.  The XOXO exporter makes notes accessible to other
software applications and the DocBook exporter starts the journey to
many other formats, including LaTeX, using DocBook tools.

The niche for the LaTeX exporter is producing a version of an Org file
for printing and sharing notes that looks better than an ASCII
printout but that can be produced without the overhead required to
support DocBook.  All that is needed is a working LaTeX installation.
LaTeX distributions for all major platforms are today well-developed
and easy to use and maintain.

<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> More Highly-Structured Documents
</span>
You can prepare more highly structured LaTeX documents by adding a few
lines to <span class="org-verbatim">org-latex-classes</span> in <span class="org-verbatim">.emacs</span>.

<span class="org-block-begin-line">#+begin_src emacs-lisp
</span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">add-to-list</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="variable-name">org-latex-classes</span></span><span class="org-block">
               </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="string">"article"</span></span><span class="org-block">
                 </span><span class="org-block"><span class="string">"\\documentclass{article}"</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"\\section{%s}"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"\\section*{%s}"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"\\subsection{%s}"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"\\subsection*{%s}"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"\\subsubsection{%s}"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"\\subsubsection*{%s}"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"\\paragraph{%s}"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"\\paragraph*{%s}"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"\\subparagraph{%s}"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"\\subparagraph*{%s}"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
This setup produces the following document structure:

<span class="org-block-begin-line">#+begin_src org
</span><span class="org-block">  ,* section
  ,** subsection
  ,*** subsubsection
  ,**** paragraph
  ,***** subparagraph
  ,****** itemize, etc.
  ,       - itemize
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Exporting Other LaTeX Document Classes
</span>
The LaTeX exporter can be configured to produce LaTeX output for
books, reports, letters or any other document class, including custom
classes.  These can be useful if notes need to be formatted to a
certain specification, such as a company technical manual, or if the
notes are quite long, as might be the case when Org-mode is used as a
laboratory or project notebook.

Here is a standard setup for export to a LaTeX book class:

<span class="org-block-begin-line">#+begin_src emacs-lisp
</span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">add-to-list</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="variable-name">org-latex-classes</span></span><span class="org-block">
               </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="string">"book"</span></span><span class="org-block">
                 </span><span class="org-block"><span class="string">"\\documentclass{book}"</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"\\part{%s}"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"\\part*{%s}"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"\\chapter{%s}"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"\\chapter*{%s}"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"\\section{%s}"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"\\section*{%s}"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"\\subsection{%s}"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"\\subsection*{%s}"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"\\subsubsection{%s}"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"\\subsubsection*{%s}"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
               </span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
Then, in the Org file with a book-full of notes, add this line:

<span class="org-block-begin-line">#+begin_src org
</span><span class="org-block"><span class="org-meta-line">  #+LaTeX_CLASS: book</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-target">&lt;&lt;koma-script&gt;&gt;</span>
A useful set of alternatives is the <span class="kc-org-link-url"><a href="http://www.komascript.de/">KOMA script</a></span> classes.  These have a
somewhat more modern design than the standard LaTeX classes.

For example, the KOMA script article class can be configured in <span class="org-verbatim">.emacs</span>:

<span class="org-block-begin-line">#+begin_src emacs-lisp
</span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">add-to-list</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="variable-name">org-latex-classes</span></span><span class="org-block">
            </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="string">"koma-article"</span></span><span class="org-block">
               </span><span class="org-block"><span class="string">"\\documentclass{scrartcl}"</span></span><span class="org-block">
               </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"\\section{%s}"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"\\section*{%s}"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
               </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"\\subsection{%s}"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"\\subsection*{%s}"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
               </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"\\subsubsection{%s}"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"\\subsubsection*{%s}"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
               </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"\\paragraph{%s}"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"\\paragraph*{%s}"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
               </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"\\subparagraph{%s}"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"\\subparagraph*{%s}"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
Then, this class can be used by including the following line in the
Org-mode file.

<span class="org-block-begin-line">#+begin_src org :exports code
</span><span class="org-block"><span class="org-meta-line">  #+LaTeX_CLASS: koma-article</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Passing Options to Document Classes
</span>The standard LaTeX document classes, <span class="org-verbatim">article</span>, <span class="org-verbatim">report</span>, <span class="org-verbatim">book</span>,
<span class="org-verbatim">slides</span>, and <span class="org-verbatim">letter</span> take options that, where applicable, select the
type size, paper size, orientation, whether to print one- or
two-sided, and a variety of formatting specifications.  Custom LaTeX
document classes can define their own options, as needed.

You can pass options to the LaTeX <span class="org-verbatim">\documentclass</span> macro by putting a
line like this in your Org-mode file:

<span class="org-block-begin-line">#+begin_src org :exports code
</span><span class="org-block"><span class="org-meta-line">  #+LaTeX_CLASS_OPTIONS: [a4paper,twoside,twocolumn]</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
A useful option with the <span class="org-link"><a href="koma-script">KOMA script</a></span> classes typesets table captions
properly.  The standard LaTeX classes will incorrectly typeset table captions
exported by Org-mode above the table.  The following option to the
<span class="org-link"><a href="koma-script">KOMA script</a></span> classes accomplishes this.

<span class="org-block-begin-line">#+begin_src org
</span><span class="org-block"><span class="org-meta-line">  #+LaTeX_CLASS_OPTIONS: [captions=tableheading]</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Using Custom Classes
</span>If the user has custom LaTeX document classes that conflict with the
default packages or that only require a few of the default packages to
support all features of the LaTeX exporter, then this can be handled
in <span class="org-verbatim">.emacs</span> using [DEFAULT-PACKAGES], [NO-DEFAULT-PACKAGES],
[PACKAGES], [NO-PACKAGES], [EXTRA], [NO-EXTRA].

Here is a simple example that uses an experimental LaTeX class<span class="org-footnote">[fn:3]</span>
that supports the Org-mode requirements and leaves open the
possibility of adding file specific packages:

<span class="org-block-begin-line">#+begin_src emacs-lisp
</span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">add-to-list</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="variable-name">org-latex-classes</span></span><span class="org-block">
        </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="string">"org-article"</span></span><span class="org-block">
           </span><span class="org-block"><span class="string">"\\documentclass{org-article}
           [NO-DEFAULT-PACKAGES]
           [PACKAGES]
           [EXTRA]"</span></span><span class="org-block">
           </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"\\section{%s}"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"\\section*{%s}"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
           </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"\\subsection{%s}"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"\\subsection*{%s}"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
           </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"\\subsubsection{%s}"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"\\subsubsection*{%s}"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
           </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"\\paragraph{%s}"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"\\paragraph*{%s}"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
           </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"\\subparagraph{%s}"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"\\subparagraph*{%s}"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
The Org-mode LaTeX exporter uses several packages to support special
characters used by <span class="org-verbatim">org-entities</span>.  One of these, <span class="org-verbatim">amssymb</span>, conflicts
with several <span class="org-link"><a href="font-section">LaTeX fonts</a></span>.  If you want finer control over which
packages are loaded, then it makes sense to define an export class
like this in <span class="org-verbatim">.emacs</span>:

<span class="org-block-begin-line">#+begin_src emacs-lisp :tangle no
</span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">add-to-list</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="variable-name">org-latex-classes</span></span><span class="org-block">
            </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="string">"koma-article"</span></span><span class="org-block">
               </span><span class="org-block"><span class="string">"\\documentclass{scrartcl}
               [NO-DEFAULT-PACKAGES]
               [EXTRA]"</span></span><span class="org-block">
               </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"\\section{%s}"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"\\section*{%s}"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
               </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"\\subsection{%s}"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"\\subsection*{%s}"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
               </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"\\subsubsection{%s}"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"\\subsubsection*{%s}"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
               </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"\\paragraph{%s}"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"\\paragraph*{%s}"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
               </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"\\subparagraph{%s}"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"\\subparagraph*{%s}"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
Alternatively, export classes can be defined on a per-file basis in a
source code block that is evaluated prior to LaTeX export.  This is
perhaps the most flexible way to set up LaTeX export.  Since the
<span class="org-verbatim">add-to-list</span> is a globally side-effecting action, this
example only calls it if it would add a LaTeX class that isn't
already on the <span class="org-verbatim">org-latex-classes</span> list:

<span class="org-block-begin-line">#+begin_example
</span><span class="custom">  #+name: setup
  #+begin_src emacs-lisp :results silent :exports none
 (unless (find "per-file-class" org-latex-classes :key 'car
           :test 'equal)
   (add-to-list 'org-latex-classes
            '("per-file-class"
               "\\documentclass{scrartcl}
               [NO-DEFAULT-PACKAGES]
               [EXTRA]"
               ("\\section{%s}" . "\\section*{%s}")
               ("\\subsection{%s}" . "\\subsection*{%s}")
               ("\\subsubsection{%s}" . "\\subsubsection*{%s}")
               ("\\paragraph{%s}" . "\\paragraph*{%s}")
               ("\\subparagraph{%s}" . "\\subparagraph*{%s}")))
  #+end_src
</span><span class="org-block-end-line">#+end_example
</span>
Then, add this line to the Org-mode file:

<span class="org-block-begin-line">#+begin_src org :exports code
</span><span class="org-block"><span class="org-meta-line">  #+LaTeX_CLASS: per-file-class</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Specifying LaTeX Packages
</span>According to its author, the LaTeX macro package "represents a balance
between functionality and ease of use."  The LaTeX user who adds
functionality through the addition of packages necessarily makes the
software more difficult to use.  Like LaTeX itself, the Org-mode LaTeX
exporter has struck its own balance between functionality and ease of
use with the addition of several LaTeX packages.  These are written
out in the LaTeX header as LaTeX <span class="org-verbatim">\usepackage</span> commands.

Org-mode keeps the names of the LaTeX packages it uses in a data
structure designed for ease of maintenance as additional features are
added to the LaTeX exporter.  Packages in the default packages list,
<span class="org-verbatim">org-latex-default-packages-alist</span>, are required to support all
features of the LaTeX exporter.  This list is typically specified in
the Org-mode source code and its documentation contains a warning not
to modify it.  Packages not included on the default packages list that
the user needs consistently can be added to
<span class="org-verbatim">org-latex-packages-alist</span>.

If you want to specify particular packages, either in addition to
or in place of those used by Org-mode, then you can either place them
in a custom class definition, where they can be used by any Org-mode
document, or you can add them to the Org-mode document directly so
their effect is local to the Org-mode buffer.

An example custom class definition that adds the <span class="org-verbatim">graphicx</span> package
might look like this in <span class="org-verbatim">.emacs</span>:

<span class="org-meta-line">#+name: custom-class-definition</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp :exports code
</span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">add-to-list</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="variable-name">org-latex-classes</span></span><span class="org-block">
               </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="string">"per-file-class"</span></span><span class="org-block">
                 </span><span class="org-block"><span class="string">"\\documentclass{scrartcl}
                   \\usepackage{graphicx}
              [NO-DEFAULT-PACKAGES]
              [NO-PACKAGES]"</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"\\section{%s}"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"\\section*{%s}"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"\\subsection{%s}"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"\\subsection*{%s}"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"\\subsubsection{%s}"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"\\subsubsection*{%s}"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"\\paragraph{%s}"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"\\paragraph*{%s}"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"\\subparagraph{%s}"</span></span><span class="org-block"> . </span><span class="org-block"><span class="string">"\\subparagraph*{%s}"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
Packages needed for a particular file can be specified by inserting a
line like this in the Org-mode buffer:
<span class="org-block-begin-line">#+begin_src org :exports code
</span><span class="org-block">  ,#+LATEX_HEADER: \usepackage{xyz}
</span><span class="org-block-end-line">#+end_src
</span>
One reason for specifying LaTeX packages in the Org-mode buffer is
that highly configurable packages can be tailored for a particular
use.  Perhaps the best example among the packages in
<span class="org-verbatim">org-latex-default-packages-alist</span> is <span class="org-verbatim">hyperref</span>, which has an
elaborate list of keyval options.  PDF output destined for interactive
use might load <span class="org-verbatim">hyperref</span> with options to distinguish links with
attractive colors, for instance.  This might be achieved with
following lines, which load the <span class="org-verbatim">xcolor</span> package<span class="org-footnote">[fn:4]</span> and then use
named colors to distinguish external blue links from internal red
links:

<span class="org-meta-line">#+name: hyperref-header</span>
<span class="org-block-begin-line">#+begin_src org :exports code
</span><span class="org-block">  ,  #+LATEX_HEADER: \usepackage[hyperref,x11names]{xcolor}
  ,  #+LATEX_HEADER: \usepackage[colorlinks=true,urlcolor=SteelBlue4,linkcolor=Firebrick4]{hyperref}
</span><span class="org-block-end-line">#+end_src
</span>
In addition, you can pick up the encoding used in the Org-mode buffer and pass
this information on to LaTeX by loading the <span class="org-verbatim">inputenc</span> package as
follows:

<span class="org-meta-line">#+name: inputenc</span>
<span class="org-block-begin-line">#+begin_src org :exports code
</span><span class="org-block"><span class="org-meta-line">  #+LATEX_HEADER: \usepackage[AUTO]{inputenc}</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Creating PDF Output
</span>The LaTeX exporter by default produces code ready for processing by
pdflatex.  pdflatex calls the pdfTeX program, a modern extension of
TeX that produces PDF output directly, using the standard LaTeX
macros.  pdfTeX is tightly integrated with PDF features such as
hypertext links and tables of contents, using LaTeX packages such as
hyperref, which is included in the default packages list.

Org-mode offers a command to produce a PDF file from the LaTeX export.
This is bound to <span class="org-verbatim">C-c C-e p</span>.  The command <span class="org-verbatim">C-c C-e d</span> does all this
<span class="bold">and</span> opens the PDF file in the default reader.

If you use a different TeX typesetting engine or would like to
customize how Org-mode produces the pdf file, then you will want to
modify the variable <span class="org-verbatim">org-latex-to-pdf-process</span>.  This is a list of
strings, each of which contains a call to one of the TeX typesetting
engines or to an auxiliary program, such as BibTeX, makeindex, etc.

For example, the shell script <span class="org-verbatim">texi2dvi</span> will run <span class="org-verbatim">pdflatex</span> as many
times as needed to build a pdf file successfully.  The following code
in <span class="org-verbatim">.emacs</span> will instruct Org-mode to use <span class="org-verbatim">texi2dvi</span> when making a pdf
file.  Note that you should check that <span class="org-verbatim">texi2dvi</span> is installed on your
system and that it works correctly before adding this code to your
<span class="org-verbatim">.emacs</span>.

<span class="org-meta-line">#+name: texi2dvi</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp :exports code
</span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="keyword">setq</span></span><span class="org-block"> org-latex-to-pdf-process </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="string">"texi2dvi --pdf --clean --verbose --batch %f"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
Note that <span class="org-verbatim">makeindex</span> and <span class="org-verbatim">bibtex</span> require a bit more effort to work
in this way because of path name issues.  Nick Dokos suggested
this fix, which specifies a path to one or more BibTeX <span class="org-verbatim">.bib</span> files:

<span class="org-block-begin-line">#+begin_example
</span><span class="custom">  ,#+begin_src sh :exports none
    BIBINPUTS=/path/to/bib/:$BIBINPUTS
    export BIBINPUTS
  ,#+end_src
</span><span class="org-block-end-line">#+end_example
</span>
If you have system-wide bibliography and index files, then it might be
useful to modify <span class="org-verbatim">BIBINPUTS</span> in <span class="org-verbatim">.profile</span> or similar.  The code
example above uses Babel to set the variable on a per-file basis.

An alternative to the default TeX engine is <span class="kc-org-link-url"><a href="http://scripts.sil.org/cms/scripts/page.php?site_id%3Dnrsi&amp;id%3Dxetex">XeTeX</a></span>, which merges TeX
with Unicode and modern font technologies.  The Emacs-Fu blog has an
<span class="kc-org-link-url"><a href="http://emacs-fu.blogspot.com/2011/04/nice-looking-pdfs-with-org-mode-and.html">example XeTeX setup for Org-mode</a></span>.  There is also an entry in the
Org-Mode FAQ entitled <span class="kc-org-link-url"><a href="https://orgmode.org/worg/org-faq.html#using-xelatex-for-pdf-export">How can I use XeLaTeX for LaTeX export instead
of pdfLaTeX?</a></span>

<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Exporting Parts of an Org-mode Buffer
</span>Tags can be used to select which parts of an Org-mode buffer are sent
to the LaTeX exporter.  In the typical case, the
Org-mode buffer contains material for a single export file along with
material that shouldn't appear in the export; tags distinguish the
export parts from the non-export parts.  This is the single
export case.  It is also possible to use tags to specify multiple
export targets in a single Org-mode buffer.  In the multiple export
case, tags are resolved by a <span class="kc-org-link-url"><a href="https://orgmode.org/org.html#Publishing">publishing management system</a></span>.

<span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> The Single Export Case
</span>The tags used for the single export case are held in
two variables: <span class="org-verbatim">org-export-select-tags</span> is a list of tags, initially set
to <span class="org-verbatim">export</span>, that select a tree or sub-tree for export;
<span class="org-verbatim">org-export-exclude-tags</span> is a list of tags, initially set to
<span class="org-verbatim">noexport</span>, that exclude a tree or subtree for export.  The effect
they have on export is logical, but the logic isn't necessarily what
one might expect.  In particular, if both select tags and exclude tags
are to be used in the same buffer, then their use must follow certain
rules.  Also, the handling of unmarked trees and subtrees changes
depending on which tags are used and how they are used.

If neither select tags nor exclude tags are used, then all of the trees
and their subtrees are sent to the LaTeX exporter.  If, however, a
select tag is added to a tree as in the example below, then unmarked
trees will <span class="bold">not</span> be sent to the exporter.  Thus, the effect of a
select tag is not restricted to its tree; its effect extends to the
entire buffer.

<span class="org-block-begin-line">#+begin_src org
</span><span class="org-block">  ,* Tree 1                                                             :export:
  ,   This is exported
  ,** Subtree 1
  ,   This is also exported
  ,* Tree 2
  ,  This is not exported
  ,** Subtree 2
  ,  This is not exported, either
</span><span class="org-block-end-line">#+end_src
</span>
Once the scope of the tag's effect is grasped, the primary rule of using
select and exclude tags is obvious: only one type of tag may be used
for the trees of a buffer.  If both types of tags are used for trees,
how can Org-mode decide what to do with the unmarked trees?

A corollary of this rule is that the other type of tag can only be
used in a subtree of the tagged tree in order to reverse the effect of
the tree-level tag, as in the following example.

<span class="org-block-begin-line">#+begin_src org
</span><span class="org-block">  ,* Tree 1                                                             :export:
  ,   This is exported
  ,** Subtree 1                                                       :noexport:
  ,   This is not exported
  ,* Tree 2
  ,  This is not exported
  ,** Subtree 2
  ,  This is not exported, either
</span><span class="org-block-end-line">#+end_src
</span>

<span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> The Multiple Export Case
</span>In the multiple export case, tags used to select a tree or subtree for
export are defined in <span class="org-verbatim">.emacs</span> as part of the configuration needed to
specify the many properties of a publication project.  A tutorial
illustrates <span class="kc-org-link-url"><a href="https://orgmode.org/worg/org-tutorials/org-publish-html-tutorial.html">the flexibility of the publishing mechanism</a></span> using an HTML
example.  The intricacies of the publishing mechanism are beyond the
scope of of this LaTeX export tutorial.  Here, a working example<span class="org-footnote">[fn:1]</span>
is described.

In the example, the file <span class="org-verbatim">index.org</span> holds material for two export
targets, one related to work items and the other related to home.  The
variable <span class="org-verbatim">org-publish-project-alist</span> has two entries, one for a
project named <span class="org-verbatim">work</span> and the other for a project named <span class="org-verbatim">home</span>.  Both
projects are based on the file <span class="org-verbatim">index.org</span> located in <span class="org-verbatim">~/notes/org</span>.

Both projects will create output files named <span class="org-verbatim">index.tex</span>, based on the
name of the Org-mode file used for import.  The two <span class="org-verbatim">index.tex</span> files
are kept separate by writing them to different directories, as
indicated by the keyword argument <span class="org-verbatim">:publishing-directory</span>.
<span class="org-block-begin-line">#+begin_src emacs-lisp
</span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="keyword">setq</span></span><span class="org-block"> </span><span class="org-block"><span class="variable-name">org-publish-project-alist</span></span><span class="org-block">
        </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block">
          </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"work"</span></span><span class="org-block">
           </span><span class="org-block"><span class="builtin">:base-directory</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"~/notes/org/"</span></span><span class="org-block">
           </span><span class="org-block"><span class="builtin">:base-extension</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"org"</span></span><span class="org-block">
           </span><span class="org-block"><span class="builtin">:publishing-directory</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"~/notes/export/work/"</span></span><span class="org-block">
           </span><span class="org-block"><span class="builtin">:publishing-function</span></span><span class="org-block"> org-publish-org-to-latex
           </span><span class="org-block"><span class="builtin">:select-tags</span></span><span class="org-block">     </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="string">"@WORK"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
           </span><span class="org-block"><span class="builtin">:title</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"Work Notes"</span></span><span class="org-block">
           </span><span class="org-block"><span class="builtin">:include</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="string">"index.org"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
           </span><span class="org-block"><span class="builtin">:exclude</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\.org$"</span></span><span class="org-block">
           </span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
          </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="string">"home"</span></span><span class="org-block">
           </span><span class="org-block"><span class="builtin">:base-directory</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"~/notes/org/"</span></span><span class="org-block">
           </span><span class="org-block"><span class="builtin">:base-extension</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"org"</span></span><span class="org-block">
           </span><span class="org-block"><span class="builtin">:publishing-directory</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"~/notes/export/home/"</span></span><span class="org-block">
           </span><span class="org-block"><span class="builtin">:publishing-function</span></span><span class="org-block"> org-publish-org-to-latex
           </span><span class="org-block"><span class="builtin">:select-tags</span></span><span class="org-block">     </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="string">"@HOME"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
           </span><span class="org-block"><span class="builtin">:title</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"Home Phone"</span></span><span class="org-block">
           </span><span class="org-block"><span class="builtin">:include</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="string">"index.org"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
           </span><span class="org-block"><span class="builtin">:exclude</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\.org$"</span></span><span class="org-block">
           </span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
          </span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
The parts of <span class="org-verbatim">index.org</span> tagged <span class="org-verbatim">@WORK</span> can now be exported to
<span class="org-verbatim">~/notes/export/work/index.tex</span> with <span class="org-verbatim">C-c C-e X</span> and selecting the
<span class="org-verbatim">work</span> project.

Similarly, the parts of <span class="org-verbatim">index.org</span> tagged <span class="org-verbatim">@HOME</span> can now be exported to
<span class="org-verbatim">~/notes/export/home/index.tex</span> with <span class="org-verbatim">C-c C-e X</span> and selecting the
<span class="org-verbatim">home</span> project.

<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Markup
</span>Org-mode provides wiki-like markup for various display
characteristics.  This is often handy and it translates directly into
LaTeX, but the design philosophy of LaTeX is centered around semantic
markup, "what you say is what you mean" rather than "what you see is
what you get" (lampooned by zealous LaTeX users as "what you see is
all you get").  In practice, LaTeX users define common semantic
elements in a LaTeX class or style file and these are marked up in
text with commands often peculiar to the class or style file.
Clearly, there is no way that Org-mode can anticipate commands
peculiar to arbitrary class or style files.  Fortunately, Org-mode
provides facilities to define special characters and to specify inline
and block-level markup.

<span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Special Characters
</span>The variable <span class="org-verbatim">org-entities-user</span> holds the information needed to
define special characters.  In response to a question posed by Rasmus
Pank Roulund, Lawrence Mitchell described how to use this variable to
define an escaped space, which is used in LaTeX to insert a single
space, instead of a double space, after a period that doesn't end a
sentence.

With this definition:

<span class="org-code">: (setq org-entities-user '(("space" "\\ " nil " " " " " " " ")))
</span>
then

<span class="org-code">: this is some text, e.g.\space foo bar
</span>
is exported as

<span class="org-code">: this is some text, e.g.\  foo bar
</span>
<span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Block-level Markup
</span>For simple <span class="italic">block-level</span> arbitrary markup, you can use the contributed
package <span class="org-link"><a href="file:../org-contrib/org-special-blocks.org">org-special-blocks</a></span>, which turns <span class="org-code">#+begin_foo</span> into
<span class="org-code">\begin{foo}</span> upon LaTeX export. You can use ordinary Org markup
inside the block. For example, you can wrap an abstract in

<span class="org-code">: #+BEGIN_ABSTRACT
: This is an *abstract* with ordinary =Org-mode= /markup/.
: #+END_ABSTRACT
</span>
For more complex cases, where you need to pass parameters or process
block contents, but don't want to use literal LaTeX, you may want to
explore the possibilities of the contributed <span class="org-link"><a href="file:../org-contrib/org-exp-blocks.org">org-exp-blocks</a></span> package.

An example of block-level markup for a results block that will be
typeset with a shaded background:

<span class="org-code">: #+LaTeX_HEADER: \usepackage{framed}
: #+LaTeX_HEADER: \usepackage{xcolor}
: #+LaTeX_HEADER: \definecolor{shadecolor}{gray}{.95}
: #+LaTeX_HEADER: \newenvironment{results}{\begin{shaded}}{\end{shaded}}
</span>

<span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Inline Markup
</span><span class="italic">Inline</span> arbitrary semantic markup can be implemented by defining a new link type
in <span class="org-verbatim">.emacs</span>.<span class="org-footnote">[fn:2]</span>   The following code block defines a new link type,
<span class="org-verbatim">latex</span>, whose <span class="org-verbatim">path</span> argument can hold the name of any LaTeX
command.  This one defines export markup for HTML and LaTeX.  A link
such as <span class="org-verbatim">[latex:proglang][Org-mode]</span> will export
<span class="org-verbatim">\proglang{Org-mode}</span> to the LaTeX file.  In this way, it is possible
to make the Org-mode LaTeX exporter conform to the semantic markup
defined in arbitrary style files.  Org-mode will even complete your
new link type!

<span class="org-meta-line">#+name: semantic-markup</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp :exports code
</span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">org-add-link-type</span></span><span class="org-block">
   </span><span class="org-block"><span class="string">"latex"</span></span><span class="org-block"> nil
   </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">lambda</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block">path desc format</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
     </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">cond</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">html</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"&lt;span class=\"%s\"&gt;%s&lt;/span&gt;"</span></span><span class="org-block"> path desc</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">latex</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\%s{%s}"</span></span><span class="org-block"> path desc</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
Two examples of LaTeX commands for inline semantic markup:

<span class="org-code">: #+LaTeX_HEADER: \let\progstruct=\texttt
: #+LaTeX_HEADER: \newcommand{\progexample}[1]{{\ttfamily\small </span><span class="org-code"><span class="org-tag">#1}}</span></span><span class="org-code">
</span>
<span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Captions
</span>The LaTeX caption command is typically passed two arguments: the
required argument, which is typeset with the figure or table; and the
optional argument, which appears in the List of Figures or List of
Tables.  It is common nowadays, especially in the sciences, to have
long captions (actually captions plus legends) with figures and much
abbreviated versions, typically less than a line long, in the List of
Figures.  In addition, many styles require that figure captions end
with a period; the caption passed to the List of Figures should not
end in a period.

The Org-mode <span class="org-verbatim">#+CAPTION:</span> macro handles an optional argument.

This construct:

<span class="org-code">: #+CAPTION[Short caption]: Long caption.
</span>
exports:

<span class="org-code">: \caption[Short caption]{Long caption.}
</span>
<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Styling the Frontmatter
</span>The Org-mode LaTeX exporter requires configuration to gain full access
to the LaTeX frontmatter formatting capacity.

<span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Abstract, contents, and lists of figures and tables
</span>In the default configuration, the Org-mode LaTeX exporter includes a
function that sandwiches the LaTeX <span class="org-verbatim">\tableofcontents</span> command between
a command that sets the depth of the headings that appear in the table
of contents (based on the number of headline levels that will be
exported as headings, rather than lists) and a command to add some
vertical space.  Neither of these additions to the <span class="org-verbatim">\tableofcontents</span>
command is especially desireable.  It is often the case that one wants
the table of contents depth to differ from the depth to which sections
are numbered.  Also, in the LaTeX world, the space between the end of one
element and the start of another is something that is specified within
a class or style file, rather than within the document itself.  Formatting with
the class or style file exclusively can give the finished document a pleasing
stylistic uniformity that is difficult to achieve in an ad hoc way.
Also, hardwiring the table of contents in this way always puts it
directly following the output of the LaTeX <span class="org-verbatim">maketitle</span> command.  In
practice, however, it is often useful to print an abstract or
executive summary between the title and the table of contents.
Fortunately, the LaTeX exporter is coded in such a way that it is
possible for the user to alter this behavior relatively easily.

<span class="org-meta-line">#+name: format-no-toc</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp :exports code
</span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="keyword">defun</span></span><span class="org-block"> </span><span class="org-block"><span class="function-name">org-export-latex-no-toc</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block">depth</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
    </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">when</span></span><span class="org-block"> depth
      </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"%% Org-mode is exporting headings to %s levels.\n"</span></span><span class="org-block">
              depth</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="keyword">setq</span></span><span class="org-block"> org-export-latex-format-toc-function </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">org-export-latex-no-toc</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
With this setup, place the abstract and <span class="org-verbatim">#+LATEX:</span> commands for
frontmatter before the first exported headline, e.g.,

<span class="org-code">: #+BEGIN_abstract
:   [Abstract here]
: #+END_abstract
: #+LATEX: \tableofcontents
: #+LATEX: \listoftables
: #+LATEX: \listoffigures
: * First Exported Headline
</span>

<span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Titles and Title Page Layout
</span>The default title created by the LaTeX exporter is often just fine,
but in cases where you would like to include specific information in
the title, or create a custom title page, then perhaps the best way to
do this was posted to the Org-mode list by Nick Dokos:

<span class="org-block-begin-line">#+begin_example
</span><span class="custom">#+LATEX_HEADER: \input{mytitle}

 * Foo
 foo

 * Bar
 bar
</span><span class="org-block-end-line">#+end_example
</span>
where the file mytitle.tex looks like this:

<span class="org-block-begin-line">#+begin_example
</span><span class="custom">\renewcommand\maketitle{\begin{titlepage}%
FOO
\end{titlepage}%
}
</span><span class="org-block-end-line">#+end_example
</span>
<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Exporting Listings
</span><span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Exporting Pseudo-Code
</span>  The LaTeX exporter will fontify exported code blocks written in any
  language that has an associated Emacs mode for editing.  If you want
  to export pseudo-code, for which there is no corresponding Emacs
  mode, then one approach is to use <span class="org-verbatim">#+begin_latex ... #+end_latex</span>
  and write the pseudo-code directly in LaTeX.  This depends on the
  LaTeX <span class="kc-org-link-url"><a href="http://www.ctan.org/tex-archive/macros/latex/contrib/listings/">listings package</a></span>, which is one of the default packages used by
  Org-mode.

  Dan Davison provided this example on the Org-mode list:

<span class="org-code">: #+begin_latex
: \begin{algorithm}
:  \caption{An algorithm}
:  \label{alg:myalg}
:  \begin{lstlisting}[mathescape,escapeinside='']
:    '\foreach individual $i$'
:        '\foreach group $k$'
:            $\gamma_{ik} \getsp Q_{k}\prod_{l}\prod_{a=1}^{2}P_{lkX_{ila}}$
:  \end{lstlisting}
: \end{algorithm}
: #+end_latex
</span><span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Typesetting and Fontifying Source Code
</span>Org-mode supports two LaTeX packages for typesetting and fontifying
source code; listings and minted.  The listings package is a pure
LaTeX implementation that works reasonably well, but the package
appears to be orphaned and the latest documentation was written
in 2007.  In contrast, the minted package is not a pure LaTeX solution
and relies on an external Python script, pygmentize, to typeset and
fontify source code.  This package appears to be actively maintained.
Both packages are included in the TeXLive and MacTeX LaTeX
distributions.  If your distribution lacks one or the other, then
you'll need to check the documentation for instructions how to install
them.

The two packages are structured somewhat differently, but it is
possible to configure Org-mode so that these differences are mostly
smoothed over, making it possible to generate LaTeX code that will
work with either package.  The two main differences have to do with
the minted package's generation of language names by appending <span class="org-verbatim">code</span>
to the language name; this convention is not followed by the listings
package.  In addition, the minted package defines <span class="italic">styles</span>, by which
it means colorizing semantic elements of the programming language.
This facility is not implemented in the listings package.

The following sections show the basics of listings and minted setups
which, when exported to LaTeX, illustrate the ability of each package
to typeset and fontify source code on a per-language basis.

<span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Example minted setup
</span>
In this example, the minted package is specified in the
<span class="org-verbatim">#+LaTeX_HEADER:</span>.  This is followed by a command to use the minted
style <span class="org-verbatim">emacs</span>, which colors source code in a way familiar to emacs
users.  The final <span class="org-verbatim">#+LaTeX_HEADER:</span> line uses the <span class="org-verbatim">newminted</span> macro to
set the font size for code blocks of <span class="org-verbatim">common-lisp</span>.

The source code block <span class="org-verbatim">setup-minted</span> includes emacs-lisp code that
might typically appear in .emacs, but can be useful in a source code
block where it can be used to configure LaTeX export for an individual
document.  In the source code block, the variables that control LaTeX
export using the minted package are configured.  First,
<span class="org-verbatim">org-latex-listings</span> is set to use the minted package.  Then,
the variable <span class="org-verbatim">org-latex-custom-lang-environments</span> is used to
associate the emacs-lisp code of an Org-mode source code block with
the common-lisp language that the minted package knows how to parse.
Note that this is given as <span class="org-verbatim">common-lispcode</span> here, but as
<span class="org-verbatim">common-lisp</span> in the call to the <span class="org-verbatim">newminted</span> macro.  The minted
package appends <span class="org-verbatim">code</span> to language names by default.  The variable
<span class="org-verbatim">org-latex-minted-options</span> sets typesetting options that will
apply to all programming languages.  See the minted package
documentation for the very many options that can be set with key/val
pairs. The three entries in the association list call for source code
blocks to be framed with lines, set in a very small font, and
identified with line numbers.  In relation to these settings, the
emacs-lisp code will be set at a slightly larger font size.  Finally,
the variable <span class="org-verbatim">org-latex-to-pdf-process</span> is set using the
<span class="org-verbatim">-shell-escape</span> option so the external pygmentize program can be
called and its results incorporated into the pdf document.  Note that
using the <span class="org-verbatim">-shell-escape</span> option creates security holes.

A Python source code block at the end illustrates how the default
emacs-style code differs from the specially formatted emacs-lisp
source code.

<span class="org-block-begin-line">#+begin_example
</span><span class="custom">, #+LATEX_CLASS: article
, #+LaTeX_HEADER: \usepackage{minted}
, #+LaTeX_HEADER: \usemintedstyle{emacs}
, #+LaTeX_HEADER: \newminted{common-lisp}{fontsize=\footnotesize}

, #+name: setup-minted
, #+begin_src emacs-lisp :exports both :results silent
     (setq org-latex-listings 'minted)
     (setq org-latex-custom-lang-environments
           '(
            (emacs-lisp "common-lispcode")
             ))
     (setq org-latex-minted-options
           '(("frame" "lines")
             ("fontsize" "\\scriptsize")
             ("linenos" "")))
     (setq org-latex-to-pdf-process
           '("pdflatex -shell-escape -interaction nonstopmode -output-directory %o %f"
             "pdflatex -shell-escape -interaction nonstopmode -output-directory %o %f"
             "pdflatex -shell-escape -interaction nonstopmode -output-directory %o %f"))
, #+end_src

, #+name: another-listing
, #+begin_src python :exports code
   x = str(y)
, #+end_src
</span><span class="org-block-end-line">#+end_example
</span>
When this example is exported (<span class="org-verbatim">C-c C-e d</span>) the resulting pdf file
contains two source code blocks nicely typeset and colored in a way
common to many emacs setups.

<span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Example listings setup
</span>
In this example, the listings package is specified in the
<span class="org-verbatim">#+LaTeX_HEADER:</span>.  It is followed by three <span class="org-verbatim">#+LaTeX_HEADER:</span> lines
that construct a call to the <span class="org-verbatim">lstnewenvironment</span> command that
associates the language identifier <span class="org-verbatim">common-lispcode</span> with the <span class="org-verbatim">Lisp</span>
language that the listings package knows how to parse, and configures
typesetting options that will apply to code identified as
<span class="org-verbatim">common-lispcode</span>.  Note that <span class="org-verbatim">common-lispcode</span> is used here simply to
conform with the setup used by the minted package for typesetting
emacs-lisp code.  The final <span class="org-verbatim">#+LaTeX_HEADER:</span> line defines a new LaTeX
command that configures typesetting Python code inline.

The source code block <span class="org-verbatim">setup-listings</span> instructs Org-mode to use the
listings package.  It sets the variable
<span class="org-verbatim">org-latex-custom-lang-environments</span> to associate <span class="org-verbatim">emacs-lisp</span>
source code in Org-mode with <span class="org-verbatim">common-lispcode</span>, as defined by
<span class="org-verbatim">lstnewenvironment</span>.  Then it configures default options in the
variable <span class="org-verbatim">org-latex-listings-options</span> that place a frame around
source code blocks, set code in a fairly small font, and number lines
at the left with tiny numbers.  The variable
<span class="org-verbatim">org-latex-to-pdf-process</span> doesn't need to use the <span class="org-verbatim">-shell-escape</span>
option in the call to pdflatex because the listings package is pure
LaTeX and doesn't rely on the output of external programs.  A new link
type, <span class="org-verbatim">latex</span>, is defined.  This can be used to markup inline code
snippets.  This is followed by a short Python source code block that
illustrates the difference between the default typesetting options and
the options specified for <span class="org-verbatim">emacs-lisp</span> source code blocks.  Finally,
the <span class="org-verbatim">latex</span> link type is used to call the new <span class="org-verbatim">python</span> command to
typeset an inline code snippet.

<span class="org-block-begin-line">#+begin_example
</span><span class="custom">, #+LATEX_CLASS: article
, #+LaTeX_HEADER: \usepackage{listings}
, #+LaTeX_HEADER: \lstnewenvironment{common-lispcode}
, #+LaTeX_HEADER: {\lstset{language={Lisp},basicstyle={\ttfamily\footnotesize},frame=single,breaklines=true}}
, #+LaTeX_HEADER: {}
, #+LaTeX_HEADER: \newcommand{\python}[1]{\lstset{language={Python},basicstyle={\ttfamily\small}}\lstinline{#1}}

, #+name: setup-listings
, #+begin_src emacs-lisp :exports both :results silent
  (setq org-latex-listings 'listings)
  (setq org-latex-custom-lang-environments
        '((emacs-lisp "common-lispcode")))
  (setq org-latex-listings-options
        '(("frame" "lines")
          ("basicstyle" "\\footnotesize")
          ("numbers" "left")
          ("numberstyle" "\\tiny")))
  (setq org-latex-to-pdf-process
        '("pdflatex -interaction nonstopmode -output-directory %o %f"
        "pdflatex -interaction nonstopmode -output-directory %o %f"
        "pdflatex -interaction nonstopmode -output-directory %o %f"))
  (org-add-link-type
   "latex" nil
   (lambda (path desc format)
     (cond
      ((eq format 'html)
       (format "&lt;span class=\"%s\"&gt;%s&lt;/span&gt;" path desc))
      ((eq format 'latex)
       (format "\\%s{%s}" path desc)))))
, #+end_src

, #+name: another-listing
, #+begin_src python :exports code
  x = str(y)
, #+end_src

, This is an inline snippet of Python: <a href="latex:python">[[latex:python][x = str(y)]]</a>.
</span><span class="org-block-end-line">#+end_example
</span>
When this example is exported, both source code blocks are typeset
without any semantic markup, which would be specified by element,
rather than with a style as with the minted package.
<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Exporting Tables
</span>There are several ways to prepare a table in Org-mode for export to
LaTeX.  Perhaps the easiest is to supply the Org-mode table with a
caption and a label:

<span class="org-code">: #+CAPTION: [Short caption]{Long caption}
: #+LABEL: tab:my-table
</span>
This has the great advantage of exporting cleanly to HTML, ASCII, and
other backends, but the amount of control over the results is somewhat
limited.

At the other extreme, you can create an arbitrarily complex LaTeX
table and wrap it in <span class="org-verbatim">#+BEGIN_LATEX:</span> ... <span class="org-verbatim">#+END_LATEX:</span>.  This will
give you complete control over the LaTeX export, but leave you high
and dry for export to other backends and deprive you of the pleasure
of building a table with the facilities provided by Org-mode.

A middle ground passes one or more Org-mode tables to a Babel source
block, which uses <span class="org-verbatim">orgtbl-to-generic</span> to set the table.  Currently,
the entries in the Library of Babel convert only to LaTeX.  This
approach lets you compose tables in Org-mode but currently requires
entries in the table to be marked up with LaTeX, rather than Org-mode
conventions.

<span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> How LaTeX typesets tables
</span>LaTeX divides table handling into two parts: typesetting the actual
table, and placing the table on the page along with a caption and
cross-reference information.

LaTeX provides several environments for typesetting tables.  The LaTeX
exporter currently supports a well-rounded subset of these:

  <span class="org-list-dt">-</span> <span class="org-list-dt">tabular ::</span> table doesn't break across pages, user responsible for
               determining column widths
  <span class="org-list-dt">-</span> <span class="org-list-dt">tabularx ::</span> table doesn't break across pages, width of table
                specified by user, automatic calculation of column widths
  <span class="org-list-dt">-</span> <span class="org-list-dt">tabulary ::</span> like tabularx, but tries harder to calculate optimal
                column widths
  <span class="org-list-dt">-</span> <span class="org-list-dt">longtable ::</span> table breaks across pages, can't be used in a
                 multicolumn page layout

Because the various tabular envionments don't break across pages, they
are typically "floated" by wrapping them in a <span class="org-verbatim">table</span> environment, or
for a table that spans columns in a multi-column page layout, a
<span class="org-verbatim">table*</span> environment.  LaTeX will "float" the typeset table to an
appropriate place in the output, ensuring that the table doesn't run
off the end of the page (unless it is taller than the text height).
Note that the LaTeX environments responsible for handling the
information specified by <span class="org-verbatim">#+CAPTION:</span> and <span class="org-verbatim">#+LABEL:</span> are <span class="org-verbatim">table</span>,
<span class="org-verbatim">table*</span>, and <span class="org-verbatim">longtable</span>.  If <span class="org-verbatim">tabular</span>, <span class="org-verbatim">tabularx</span>, and <span class="org-verbatim">tabulary</span>
are used by themselves, then they won't support captions and
cross-references.

<span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Table Rules
</span>The tables in many high-quality publications use rules of different
widths for the different "lines" in a table.  The horizontal rules at
the top and bottom of a table are heavier than the rule separating the
column heads from the table body.  In general, good table design
discourages the use of vertical rules; they are superfluous in an
otherwise well-designed table.

The LaTeX exporter currently uses rules of the same width everywhere
in a table.  It is possible to get book quality tables.

The following steps assume that the <span class="org-verbatim">org-babel-load-languages</span>
variable has an entry <span class="org-verbatim">(latex . t)</span> and that functions in the Library
of Babel are available.  I have this in <span class="org-verbatim">.emacs</span> so that Org-mode
knows where to find the Library of Babel (but don't know if it
is strictly necessary):
<span class="org-code">:  (org-babel-lob-ingest "/path/to/library-of-babel.org")
</span>

First, load the <span class="org-verbatim">booktabs</span> package:

<span class="org-code">: #+LATEX_HEADER: \usepackage{booktabs}
</span>
Then, give your table a name, e.g., <span class="org-verbatim">#+tblname: test-table</span> and put it
somewhere the LaTeX exporter won't see, perhaps in a sub-tree tagged with
<span class="org-verbatim">:noexport:</span>.

Finally, create a LaTeX source block something like this:

<span class="org-code">: #+name: tabularx-export
: #+begin_src latex :exports results :results latex :noweb yes
:   \begin{table}[htb!]
:   \centering
:   \footnotesize
:   \caption{A table to test booktabs}
:   \label{tab:test-table}
:   &lt;&lt;booktabs(table=test-table,align="lrX",env="tabularx",width="\\textwidth")&gt;&gt;
:   \end{table}
:  #+end_src
</span>
When you export the file to LaTeX, this code block is expanded in a
<span class="org-verbatim">#+results:</span> block and wrapped in <span class="org-verbatim">#+BEGIN_LaTeX</span> ... <span class="org-verbatim">#+END_LaTeX</span>.
If the table has column heads, then the rule beneath them should be
finer than the rules at the top and bottom of the table.

<span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Notes in tables
</span>
In a better world, the LaTeX <span class="org-verbatim">footnote</span> command would work inside a
<span class="org-verbatim">tabular</span> environment, setting the notes at the end of the table. The
current situation is described in the
<span class="kc-org-link-url"><a href="http://www.tex.ac.uk/cgi-bin/texfaq2html?label%3Dfootintab">TeX
FAQ</a></span>.  A manual solution is possible, and can be implemented in
Org-mode as follows.

First, define a counter that uses table note marks (asterisk, dagger,
pilcrow, etc.) and a command to use it.  Here is an example:

<span class="org-code">: #+LaTeX_HEADER: \newcounter{my@fn}
: #+LaTeX_HEADER: \newcommand{\fn}[1]{\setcounter{my@fn}{#1}\textsuperscript{\fnsymbol{my@fn}}}
</span>
Then use a LaTeX source block that calls <span class="org-verbatim">booktabs-notes</span> from the
Library of Babel.

<span class="org-code">: #+begin_src latex :exports results :results latex
:   \begin{table}[htb!]
:     \centering
:     \footnotesize
:     \caption{The table caption without Org-mode markup}
:     \label{tab:dates}
:     &lt;&lt;booktabs-notes(table=dates,notes=dates-fn,lspace=t,align="rcr",env="tabular")&gt;&gt;
:   \end{table}
: #+end_src
</span>
This works like <span class="org-verbatim">booktabs</span> (see <span class="org-link"><a href="Table%20Rules">Table Rules</a></span>),
except it accepts a second Org-mode table that contains the table
notes.  Remember that both of these Org-mode tables are sent to
<span class="org-verbatim">orgtbl-to-generic</span> so Org-mode markup within them won't give the
results you might expect.  Instead, the table entries use LaTeX
markup.

<span class="org-code">: #+tblname: dates
: | One\fn{1} | Two\fn{2} | Three\fn{3} |
: |-----------+------------+-------------|
: | A         | B          | C           |
: | D         | E          | F           |
</span>
<span class="org-code">: #+tblname: dates-fn
: | \multicolumn{3}{l}{\fn{1} A table note.}               |
: | \multicolumn{3}{l}{\fn{2} Another table note.}         |
: | \multicolumn{3}{l}{\fn{3} The \emph{last} table note.} |
</span>

There is also a switch, <span class="org-verbatim">lspace</span>, which if set non-nil calls the
<span class="org-verbatim">addlinespace</span> command from the <span class="org-verbatim">booktabs</span> package after the
<span class="org-verbatim">bottomrule</span> that separates the table body from the notes.

<span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Changing font size
</span>Tables often benefit from a smaller font size than the body text of a
document.  However, Org-mode doesn't offer a way to change the font
size in a table.  A discussion on the Org-mode list yielded two solutions,
one of which makes a setting for all the tables in the Org-mode
document and another that is used on individual tables.

The first solution, offered by Nick Dokos, uses a LaTeX style file,
illustrated here with <span class="org-verbatim">scripttab.sty</span>.  This style file sets all the
tables in the document with the same size font.  The command
<span class="org-verbatim">\scriptsize</span> yields a very small font; the particular size is
determined in LaTeX by the font size of <span class="org-verbatim">\normalsize</span>.  Note that
<span class="org-verbatim">\scriptsize</span> can be replaced by another legal LaTeX font size, such
as <span class="org-verbatim">\footnotesize</span> or <span class="org-verbatim">\small</span>.

<span class="org-meta-line">#+name: scripttab</span>
<span class="org-block-begin-line">#+begin_src latex :exports code
</span><span class="org-block"><span class="font-latex-sedate">\makeatletter</span></span><span class="org-block">
</span><span class="org-block"><span class="font-latex-sedate">\def</span></span><span class="org-block"> </span><span class="org-block"><span class="font-latex-sedate">\@floatboxreset</span></span><span class="org-block"> {</span><span class="org-block"><span class="comment">%
</span></span><span class="org-block">        </span><span class="org-block"><span class="font-latex-sedate">\reset@font</span></span><span class="org-block">
        </span><span class="org-block"><span class="font-latex-sedate"><span class="type">\scriptsize</span></span></span><span class="org-block"> </span><span class="org-block"><span class="comment">%</span></span><span class="org-block"><span class="font-latex-sedate"><span class="comment">\footnotesize</span></span></span><span class="org-block"><span class="comment"> %</span></span><span class="org-block"><span class="font-latex-sedate"><span class="comment">\small</span></span></span><span class="org-block"><span class="comment">
</span></span><span class="org-block">        </span><span class="org-block"><span class="font-latex-sedate">\@setminipage</span></span><span class="org-block">
}
</span><span class="org-block"><span class="font-latex-sedate">\makeatother</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
Put <span class="org-verbatim">scriptab.sty</span> where LaTeX can find it and then add this line to
the Org-mode file:

<span class="org-code">: #+LaTeX_HEADER: \usepackage{scripttab}
</span>
A second approach, which sets the font size for an individual table
with the <span class="org-verbatim">#+ATTR_LaTeX</span> line, was proposed by Suvayu Ali. This
solution is documented on
<span class="kc-org-link-url"><a href="https://orgmode.org/worg/org-hacks.html#latex-command-for-floats">Org
ad hoc code, quick hacks and workarounds</a></span>. Any LaTeX command that
works inside the table environment can be passed in this way.

<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Exporting Lists
</span>LaTeX typically sets lists as displayed material, outside of normal
paragraphs.  The three LaTeX list environments --- <span class="org-verbatim">itemize</span>,
<span class="org-verbatim">enumerate</span>, and <span class="org-verbatim">description</span> --- are all supported by Org-mode.
Additionally, Org-mode includes code to typeset its checkboxes.

<span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Vertical White Space
</span>In standard LaTeX, lists are set with a lot of vertical white space
and it is sometimes nicer to set them more compactly.  This can be
accomplished with the <span class="org-verbatim">paralist</span> package.

<span class="org-code">: #+LaTeX_HEADER: \usepackage{paralist}
</span>
You can redefine the standard LaTeX list environments with their
compact <span class="org-verbatim">paralist</span> equivalents:

<span class="org-code">: #+LaTeX_HEADER: \let\itemize\compactitem
: #+LaTeX_HEADER: \let\description\compactdesc
: #+LaTeX_HEADER: \let\enumerate\compactenum
</span>
With these settings, all the lists in the Org-mode document will be
exported in compact form.

<span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Set Enumerated Lists in a Paragraph
</span>
The <span class="org-verbatim">paralist</span> package has a facility for setting lists in paragraphs,
rather than displayed separately.  Typically the lists in a paragraph
are enumerated and it is possible to set Org-mode's enumerated lists
in paragraph, while displaying itemized and description lists.

<span class="org-code">: #+LaTeX_HEADER: \let\itemize\compactitem
: #+LaTeX_HEADER: \let\description\compactdesc
: #+LaTeX_HEADER: \let\enumerate\inparaenum
</span>

<span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Specify the Enumerator
</span>With the <span class="org-verbatim">paralist</span> package you can also specify how to enumerate the
list.  These two examples use lowercase Roman numerals in parentheses
and lowercase letters in parentheses, either of which might be used
when an enumerated list is set in a paragraph.

<span class="org-code">: #+LaTeX_HEADER: \renewenvironment{enumerate}{\begin{inparaenum}[(i)]}{\end{inparaenum}}
: #+LaTeX_HEADER: \renewenvironment{enumerate}{\begin{inparaenum}[(a)]}{\end{inparaenum}}
</span>
<span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Checkboxes
</span>Checkboxes aren't supported natively in LaTeX, so Org-mode rolls its
own.  The variable <span class="org-verbatim">org-export-latex-list-parameters</span> controls how
this is done.  Skip Collins and Nick Dokos discussed how to modify
these parameters.  Their discussion resulted in a proposal for better
looking checkboxes.

<span class="org-code">: </span><span class="org-code"><span class="org-tag">#LATEX_HEADER:</span></span><span class="org-code"> \setbox0=\hbox{\large$\square$}
</span>
<span class="org-code">: #+BIND: org-export-latex-list-parameters (:cbon "[{\\parbox[][][c]{\\wd0}{\\large$\\boxtimes$}}]" :cboff "[{\\parbox[][][c]{\\wd0}{\\large$\\square$}}]")
</span>
<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Fonts
</span><span class="org-target">&lt;&lt;font-section&gt;&gt;</span>
The default LaTeX font is Computer Modern, which was designed by
Donald Knuth.  Computer Modern is perfectly serviceable, but not as
nice as other fonts available for LaTeX.  Alternative font sets are
suggested below.

There are many choices and your choice of which ones to use will be
guided, in part, by whether or not your document uses math.  If so,
then you'll want to choose a font with math support.

Another consideration will be whether or not the font clashes with the
<span class="org-verbatim">amssymb</span> package that Org-mode loads by default.

LaTeX documents might need three text fonts, one for the serif
typeface used for text, the sans-serif typeface often used for heads
and sub-heads, and the monospace typewriter typeface typically used to
set code examples and the like.  Choosing fonts that look good with
one another is part of the typesetter's art; some care has been taken
to match fonts in each set.

<span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Bera
</span><span class="org-target">&lt;&lt;bera-font&gt;&gt;</span>

Bera is the LaTeX version of the Bitstream's Vera family of fonts.
The family includes serif, sans-serif, and monospace fonts designed to
work well with one another.

<span class="org-code">: #+LaTeX_HEADER: \usepackage[T1]{fontenc}
: #+LaTeX_HEADER: \usepackage[scaled]{beraserif}
: #+LaTeX_HEADER: \usepackage[scaled]{berasans}
: #+LaTeX_HEADER: \usepackage[scaled]{beramono}
</span>
<span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Charter
</span><span class="org-target">&lt;&lt;charter-font&gt;&gt;</span>

<span class="kc-org-link-url"><a href="https://en.wikipedia.org/wiki/Bitstream_Charter">Charter</a></span> was designed to reproduce well on low-resolution 300 dpi
printers.  It is paired here with Helvetica and Courier, like <span class="org-link"><a href="times-font">Times</a></span>,
for which it is an alternative.  Helvetica is set a bit smaller to
match the shape of the Charter font.  These fonts conflict with the
<span class="org-verbatim">amssymb=</span> package.

<span class="org-code">: #+LaTeX_HEADER: \usepackage[T1]{fontenc}
: #+LaTeX_HEADER: \usepackage[bitstream-charter]{mathdesign}
: #+LaTeX_HEADER: \usepackage[scaled=.9]{helvet}
: #+LaTeX_HEADER: \usepackage{courier} % tt
</span>
<span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Garamond
</span><span class="org-target">&lt;&lt;garamond-font&gt;&gt;</span>

<span class="kc-org-link-url"><a href="https://en.wikipedia.org/wiki/Garamond">Garamond</a></span> refers to a group of old-style serif typefaces and is named
after the sixteenth-century type designer, Claude Garamond.  It is an
elegant typeface.  Garamond requires a bit more leading than normal.
The sans-serif font is Latin Modern and the typewriter font is
Courier.  Both were chosen to match the shape and stroke weight of
Garamond.

<span class="org-code">: #+LaTeX_HEADER: \usepackage[T1]{fontenc}
: #+LaTeX_HEADER: \usepackage[urw-garamond]{mathdesign}
: #+LaTeX_HEADER: \usepackage{lmodern}
: #+LaTeX_HEADER: \usepackage{courier}
: #+LaTeX_HEADER: \linespread{1.0609}
</span>
<span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> KP family
</span><span class="org-target">&lt;&lt;kp-font&gt;&gt;</span>

The <span class="kc-org-link-url"><a href="http://tug.ctan.org/pkg/kpfonts">KP font family</a></span> is produced by Christophe Caignaert for the
Johannes Kepler project.  The family supports math.

<span class="org-code">: #+LaTeX_HEADER: \usepackage[T1]{fontenc}
: #+LaTeX_HEADER: \usepackage{kpfonts}
</span>
<span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Libertine
</span><span class="org-target">&lt;&lt;libertine-font&gt;&gt;</span>

The <span class="kc-org-link-url"><a href="http://www.linuxlibertine.org/">Linux Libertine Project</a></span> produces OpenSource fonts.  Libertine is a
replacement for Times New Roman and includes a companion sans-serif
font.  It was used to typeset the Wikipedia logo.  The monospace
typewriter font is Latin Modern.

<span class="org-code">: #+LaTeX_HEADER: \usepackage[T1]{fontenc}
: #+LaTeX_HEADER: \usepackage{libertine}
: #+LaTeX_HEADER: \renewcommand*\oldstylenums[1]{{\fontfamily{fxlj}\selectfont </span><span class="org-code"><span class="org-tag">#1}}</span></span><span class="org-code">
: #+LaTeX_HEADER: \usepackage{lmodern}
</span><span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Nimbus
</span><span class="org-target">&lt;&lt;nimbus-font&gt;&gt;</span>

The Nimbus font set uses fonts from the <span class="kc-org-link-url"><a href="http://www.gust.org.pl/projects/e-foundry/tex-gyre/">Tex-Gyre</a></span> distribution, which
provides a rich collection of diacritical characters in the attempt to
cover as many Latin-based scripts as possible.  The serif font is
Termes, which is a replacement for Times Roman.  The sans-serif font
is Heros, which is a replacement for Helvetica.  The monospace font is
Cursor, which is a Courier replacement.

<span class="org-code">: #+LaTeX_HEADER: \usepackage[T1]{fontenc}
: #+LaTeX_HEADER: \usepackage{tgtermes}
: #+LaTeX_HEADER: \usepackage[scale=.85]{tgheros}
: #+LaTeX_HEADER: \usepackage{tgcursor}
</span>
<span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Palatino
</span><span class="org-target">&lt;&lt;palatino-font&gt;&gt;</span>

The beautiful, old-style serif font, <span class="kc-org-link-url"><a href="https://en.wikipedia.org/wiki/Palatino">Palatino</a></span>, was designed by <span class="kc-org-link-url"><a href="https://en.wikipedia.org/wiki/Herman_Zapf">Herman
Zapf</a></span>.  It is somewhat heavier and easier to read than <span class="org-link"><a href="garamond-font">Garamond</a></span>.
Palatino gets a bit more leading than normal.  It is paired here with
Helvetica and Courier, as is <span class="org-link"><a href="times-font">Times</a></span>, for which it is an alternative.

<span class="org-code">: #+LaTeX_HEADER: \usepackage[T1]{fontenc}
: #+LaTeX_HEADER: \usepackage{mathpazo}
: #+LaTeX_HEADER: \linespread{1.05}
: #+LaTeX_HEADER: \usepackage[scaled]{helvet}
: #+LaTeX_HEADER: \usepackage{courier}
</span>
<span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Times
</span><span class="org-target">&lt;&lt;times-font&gt;&gt;</span>

The <span class="org-verbatim">times</span> option uses URW Nimbus Roman, a Times clone, for the serif
font, URW Nimbus Sans, a Helvetica clone, for the sans-serif font,
and URW Nimbus Mono, a Courier clone, for the typewriter font.  This
is a standard set of common typefaces typically used in scientific
publications.  All of the fonts should be included in a typical LaTeX
distribution.

<span class="kc-org-link-url"><a href="https://en.wikipedia.org/wiki/Times_Roman">Times New Roman</a></span> was designed by <span class="kc-org-link-url"><a href="https://en.wikipedia.org/wiki/Stanley_Morison">Stanley Morison</a></span> for <span class="italic">The Times</span> of
London during a redesign of the newspaper prompted, in part, by
Morison's criticism of its typography in 1929.  <span class="kc-org-link-url"><a href="https://en.wikipedia.org/wiki/Helvetica">Helvetica</a></span> was
developed in 1957 by <span class="kc-org-link-url"><a href="https://en.wikipedia.org/wiki/Max_Miedinger">Max Miedinger</a></span>.  Helvetica looks better with Times
if it is set slightly smaller than the serif font.  <span class="kc-org-link-url"><a href="https://en.wikipedia.org/wiki/Courier_(typeface)">Courier</a></span> was
designed by Howard Kettler in 1955 for use in IBM typewriters.

<span class="org-code">: #+LaTeX_HEADER: \usepackage[T1]{fontenc}
: #+LaTeX_HEADER: \usepackage{mathptmx}
: #+LaTeX_HEADER: \usepackage[scaled=.90]{helvet}
: #+LaTeX_HEADER: \usepackage{courier}
</span>
<span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Utopia
</span><span class="org-target">&lt;&lt;utopia-font&gt;&gt;</span>

<span class="kc-org-link-url"><a href="https://en.wikipedia.org/wiki/Utopia_(typeface)">Utopia</a></span> is a transitional serif font designed by <span class="kc-org-link-url"><a href="https://en.wikipedia.org/wiki/Robert_Slimbach">Robert Slimbach</a></span> for
Adobe in 1989.  It became free software in 2006.  It is paired here
with the Bera sans serif and monospaced fonts.  Note that the Utopia
font clashes with the <span class="org-verbatim">amssymb</span> package.

<span class="org-code">: #+LaTeX_HEADER: \usepackage[T1]{fontenc}
: #+LaTeX_HEADER: \usepackage[adobe-utopia]{mathdesign}
: #+LaTeX_HEADER: \usepackage[scaled]{berasans}
: #+LaTeX_HEADER: \usepackage[scaled]{beramono}
</span>
<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Cross-references
</span>The Org-mode LaTeX exporter assigns its own labels to section
headings.  In response to a question from Rasmus Pank Roulund on how
to resolve a label when cross-referencing a section heading, Lawrence
Mitchell pointed out that with the following setting:

<span class="org-code">: (setq org-export-latex-hyperref-format "\\ref{%s}")
</span>
a link to a headline will cross reference properly during LaTeX
export.

For example,

<span class="org-code">: * My Headline
: In section <a href="My Headline">[[My Headline]]</a> we discuss ...
</span>
exports to LaTeX correctly.  Note that the link must match the
headline exactly for this to work.

<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Bibliography
</span><span class="org-target">&lt;&lt;bibliography section&gt;&gt;</span>

LaTeX has its own bibliography management system based on the BibTeX
software.  The BibTeX software uses an external database of
bibliographic entries identified by keys.  The user passes the
bibliographic key to any one of several citation commands at an
appropriate place in the text and BibTeX replaces it in the output
with a formatted in-text citation.  It also compiles and typesets a
list of cited works, ensuring that every work cited in the text
appears in the list, and that every work that appears in the list is
cited in the text.

In its standard configuration Org-mode uses the BibTeX software.
Citation commands can be inserted directly into the Org-mode file,
e.g.,

<span class="org-code">: \cite{dominick_10}
</span>
and the list of cited works inserted at an appropriate place, e.g.,

<span class="org-code">: \bibliographystyle{plain}
: \bibliography{my-bib-db}
</span>
where <span class="org-verbatim">my-bib-db</span> is the name of an external bibliographic database,
and <span class="org-verbatim">plain</span> is a BibTeX style.

In-text citations can be entered by hand, but in practice it quickly
becomes cumbersome to remember bibliographic keys and to type them
correctly.  Authors writing in LaTeX typically use the RefTeX
software, originally written by Carsten Dominick, to select the
bibliographic key from the external database and to insert it into the
text with a citation command.  RefTeX can also be used to insert
citations into the Org-mode document, as detailed in <span class="kc-org-link-url"><a href="https://orgmode.org/worg/org-faq.html#using-reftex-in-org-mode">this FAQ.</a></span>  A more
detailed setup that associates reading notes with BibTeX
bibliographic entries is described in this <span class="kc-org-link-url"><a href="https://orgmode.org/list/87ejjcz9yu.fsf@is003308.saclay.cea.fr">post to the Org-mode list.</a></span>

The <span class="org-verbatim">natbib</span> package extends BibTeX with several convenient in-text
citation commands.  The commands all start with <span class="org-verbatim">cite</span> and end with
one or more letters that indicate a style.  The most commonly used
commands are:
  <span class="org-list-dt">1.</span> <span class="org-verbatim">\citep</span> for parenthetical citations, e.g., (Jones, 1958);
  <span class="org-list-dt">2.</span> <span class="org-verbatim">\citet</span> for textual citations, e.g., Jones (1958);
  <span class="org-list-dt">3.</span> <span class="org-verbatim">\citealt</span> for textual citations without parentheses, e.g. Jones 1958.
There are starred versions of most commands that will output the full
author lists rather than use the abbreviation <span class="org-verbatim">et. al.</span>

To use <span class="org-verbatim">natbib</span> place this line in the Org-mode file:

<span class="org-code">: LATEX_HEADER: \usepackage{natbib}
</span>
<span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Biblatex
</span>
The <span class="org-verbatim">biblatex</span> package, which recently emerged from beta status, offers
support for the full range of citation styles, including the numeric
styles favored by scientists, the author-date styles used by social
scientists, and the footnote styles popular in the humanities.

You'll need two additions to the LaTeX preamble, one to load biblatex
and the other to specify the <span class="org-verbatim">*.bib</span> files that hold the BibTeX
database.  Loading biblatex without options defaults to a numeric
citation style typical in the sciences.

<span class="org-code">: #+LaTeX_HEADER: \usepackage{biblatex}
: #+LaTeX_HEADER: \bibliography{my-bib,my-other-bib}
</span>
There are a number of citation and bibliography styles that ship with
biblatex and there is a growing body of contributed styles.  These can
be selected by passing options to biblatex.  The author/date style
used in the social sciences can be selected:

<span class="org-code">: #+LaTeX_HEADER: \usepackage[style=authordate]{biblatex}
</span>
Or a footnote style used in the humanities:

<span class="org-code">: #+LaTeX_HEADER: \usepackage[style=verbose]{biblatex}
</span>

Biblatex supports the various citation commands implemented by
<span class="org-verbatim">natbib</span>.

<span class="org-code">: #+LaTeX_HEADER: \usepackage[natbib]{biblatex}
</span>
The list of cited works can be placed in the document by adding this
line to the appropriate place in the Org-mode file:

<span class="org-code">: \printbibliography
</span>
<span class="org-superstar-leading">*</span><span class="org-level-2"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-2"> Using Ebib and Extended Link Syntax
</span>
Thanks to work by Ali Tofigh and Joost Kremers, it is possible to
manage citations using the <span class="kc-org-link-url"><a href="http://ebib.sourceforge.net/">ebib</a></span> program for managing BibTeX databases.
Using ebib with Org-mode was the idea of Ali Tofigh, who sent this
message to the Org-mode list:

A while ago I asked on this list about connecting org-mode with ebib,
which is a bibtex database manager for emacs. Thanks to Joost Kremers,
there is now a solution.

I asked the developer of ebib, Joost Kremers, if he could write a
function that would start ebib on a given bibtex entry. He kindly
added this functionality to the 'ebib' function (which starts ebib in
emacs) and it is now available in the ebib git repository (see
<span class="kc-org-link-url"><a href="http://ebib.sourceforge.net">http://ebib.sourceforge.net</a></span>). If you are using ebib and would like to
get org-mode to open bibtex entries do the following:

<span class="org-list-dt">1)</span> Install the latest development version of ebib.

<span class="org-list-dt">2)</span> make sure <span class="org-verbatim">ebib-preload-bib-files</span> is set properly so that your <span class="org-verbatim">.bib</span> file is loaded by ebib when ebib starts

<span class="org-list-dt">3)</span> add the following line to your <span class="org-verbatim">.emacs</span>:
<span class="org-code">: (org-add-link-type "ebib" 'ebib)
</span>
Now you can insert ebib links in your documents like this:
<span class="org-verbatim">[ebib:Jones1998][some paper title]</span>. Opening this link should now
result in ebib starting, loading your default bibtex database, and
highlighting the bibtex entry Jones1998. Alternatively, if you have
already started ebib, then opening the link will get you to the bibtex
entry in your opened ebib database.

<span class="org-superstar-leading">**</span><span class="org-level-3"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-3"> Natbib citation commands
</span>The link types defined for use with ebib can also format output for
the LaTeX exporter.  The following link types insert the natbib
citation commands, using an optional command if the citation link
includes a description.

<span class="org-meta-line">#+name: define-citep-link</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp :results silent
</span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">org-add-link-type</span></span><span class="org-block">
   </span><span class="org-block"><span class="string">"citep"</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">ebib</span></span><span class="org-block">
   </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">lambda</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block">path desc format</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
     </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">cond</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">latex</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">or</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">not</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">equal</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-numbers-number">0</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">search</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"citep:"</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
             </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\citep{%s}"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
             </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\citep[%s]{%s}"</span></span><span class="org-block"> desc path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-meta-line">#+name: define-citet-link</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp :results silent
</span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">org-add-link-type</span></span><span class="org-block">
   </span><span class="org-block"><span class="string">"citet"</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">ebib</span></span><span class="org-block">
   </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">lambda</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block">path desc format</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
     </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">cond</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">latex</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">or</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">not</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">equal</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-numbers-number">0</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">search</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"citet:"</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
             </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\citet{%s}"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
             </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\citet[%s]{%s}"</span></span><span class="org-block"> desc path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-meta-line">#+name: define-citealt-link</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp :results silent
</span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">org-add-link-type</span></span><span class="org-block">
   </span><span class="org-block"><span class="string">"citealt"</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">ebib</span></span><span class="org-block">
   </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">lambda</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block">path desc format</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
     </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">cond</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">latex</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">or</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">not</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">equal</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-numbers-number">0</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">search</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"citealt:"</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
             </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\citealt{%s}"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
             </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\citealt[%s]{%s}"</span></span><span class="org-block"> desc path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-meta-line">#+name: define-citealp-link</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp
</span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">org-add-link-type</span></span><span class="org-block">
   </span><span class="org-block"><span class="string">"citealp"</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">ebib</span></span><span class="org-block">
   </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">lambda</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block">path desc format</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
     </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">cond</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">latex</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">or</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">not</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">equal</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-numbers-number">0</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">search</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"citealp:"</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
           </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\citealp{%s}"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
         </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\citealp[%s]{%s}"</span></span><span class="org-block"> desc path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
         </span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-meta-line">#+name: define-citealtstar-link</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp
</span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">org-add-link-type</span></span><span class="org-block">
   </span><span class="org-block"><span class="string">"citealt*"</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">ebib</span></span><span class="org-block">
   </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">lambda</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block">path desc format</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
     </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">cond</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">latex</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">or</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">not</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">equal</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-numbers-number">0</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">search</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"citealt*:"</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
           </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\citealt*{%s}"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
         </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\citealt*[%s]{%s}"</span></span><span class="org-block"> desc path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
         </span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-meta-line">#+name: define-citealpstar-link</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp
</span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">org-add-link-type</span></span><span class="org-block">
   </span><span class="org-block"><span class="string">"citealp*"</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">ebib</span></span><span class="org-block">
   </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">lambda</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block">path desc format</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
     </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">cond</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">latex</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">or</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">not</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">equal</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-numbers-number">0</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">search</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"citealp*:"</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
           </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\citealp*{%s}"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
         </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\citealp*[%s]{%s}"</span></span><span class="org-block"> desc path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
         </span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-meta-line">#+name: define-citepstar-link</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp
</span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">org-add-link-type</span></span><span class="org-block">
   </span><span class="org-block"><span class="string">"citep*"</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">ebib</span></span><span class="org-block">
   </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">lambda</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block">path desc format</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
     </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">cond</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">latex</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">or</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">not</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">equal</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-numbers-number">0</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">search</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"citep*:"</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
           </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\citep*{%s}"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
         </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\citep*[%s]{%s}"</span></span><span class="org-block"> desc path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
         </span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-meta-line">#+name: define-citetstar-link</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp
</span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">org-add-link-type</span></span><span class="org-block">
   </span><span class="org-block"><span class="string">"citet*"</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">ebib</span></span><span class="org-block">
   </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">lambda</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block">path desc format</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
     </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">cond</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">latex</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">or</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">not</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">equal</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-numbers-number">0</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">search</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"citet*:"</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
             </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\citet*{%s}"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
             </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\citet*[%s]{%s}"</span></span><span class="org-block"> desc path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>

<span class="org-superstar-leading">**</span><span class="org-level-3"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-3"> Standard biblatex citation commands
</span>
The standard biblatex citation commands have the following syntax:
\command[&#10216;prenote&#10217;][&#10216;postnote&#10217;]{&#10216;keys&#10217;}

They have been implemented by parsing the description part of the link
on a semicolon, so that, e.g.,
<span class="org-link"><span class="org-verbatim"><a href="cite:foo">[[cite:foo][postnote;prenote]]</a></span></span> becomes
<span class="org-verbatim">\cite[prenote][postnote]{foo}</span>.  Note that <span class="org-link"><span class="org-verbatim"><a href="cite:foo">[[cite:foo]]</a></span></span> and
<span class="org-link"><span class="org-verbatim"><a href="cite:foo">[[cite:foo][;]]</a></span></span> are functionally equivalent.

<span class="org-meta-line">#+name: define-standard-biblatex-commands</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp :noweb yes :results silent :exports code
</span><span class="org-block">  &lt;&lt;define-biblatex-cite-link&gt;&gt;
  &lt;&lt;define-biblatex-cap-cite-link&gt;&gt;
  &lt;&lt;define-biblatex-parencite-link&gt;&gt;
  &lt;&lt;define-biblatex-cap-parencite-link&gt;&gt;
  &lt;&lt;define-biblatex-footcite-link&gt;&gt;
  &lt;&lt;define-biblatex-footcitetext-link&gt;&gt;

</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-meta-line">#+name: define-biblatex-cite-link</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp :results silent :exports code
</span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">org-add-link-type</span></span><span class="org-block">
   </span><span class="org-block"><span class="string">"cite"</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">ebib</span></span><span class="org-block">
   </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">lambda</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block">path desc format</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
     </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">cond</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">html</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"(&lt;cite&gt;%s&lt;/cite&gt;)"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">latex</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">or</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">not</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">equal</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-numbers-number">0</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">search</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"cite:"</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
           </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\cite{%s}"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
         </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\cite[%s][%s]{%s}"</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">cadr</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">split-string</span></span><span class="org-block"> desc </span><span class="org-block"><span class="string">";"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">car</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">split-string</span></span><span class="org-block"> desc </span><span class="org-block"><span class="string">";"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">  path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-meta-line">#+name: define-biblatex-cap-cite-link</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp :results silent :exports code
</span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">org-add-link-type</span></span><span class="org-block">
   </span><span class="org-block"><span class="string">"Cite"</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">ebib</span></span><span class="org-block">
   </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">lambda</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block">path desc format</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
     </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">cond</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">html</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"(&lt;cite&gt;%s&lt;/cite&gt;)"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">latex</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">or</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">not</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">equal</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-numbers-number">0</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">search</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"Cite:"</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
           </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\Cite{%s}"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
         </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\Cite[%s][%s]{%s}"</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">cadr</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">split-string</span></span><span class="org-block"> desc </span><span class="org-block"><span class="string">";"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">car</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">split-string</span></span><span class="org-block"> desc </span><span class="org-block"><span class="string">";"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">  path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-meta-line">#+name: define-biblatex-parencite-link</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp :results silent :exports code
</span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">org-add-link-type</span></span><span class="org-block">
   </span><span class="org-block"><span class="string">"parencite"</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">ebib</span></span><span class="org-block">
   </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">lambda</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block">path desc format</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
     </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">cond</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">html</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"(&lt;cite&gt;%s&lt;/cite&gt;)"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">latex</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">or</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">not</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">equal</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-numbers-number">0</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">search</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"parencite:"</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
           </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\parencite{%s}"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
         </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\parencite[%s][%s]{%s}"</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">cadr</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">split-string</span></span><span class="org-block"> desc </span><span class="org-block"><span class="string">";"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">car</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">split-string</span></span><span class="org-block"> desc </span><span class="org-block"><span class="string">";"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">  path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-meta-line">#+name: define-biblatex-cap-parencite-link</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp :results silent :exports code
</span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">org-add-link-type</span></span><span class="org-block">
   </span><span class="org-block"><span class="string">"Parencite"</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">ebib</span></span><span class="org-block">
   </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">lambda</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block">path desc format</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
     </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">cond</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">html</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"(&lt;cite&gt;%s&lt;/cite&gt;)"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">latex</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">or</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">not</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">equal</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-numbers-number">0</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">search</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"Parencite:"</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
           </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\Parencite{%s}"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
         </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\Parencite[%s][%s]{%s}"</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">cadr</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">split-string</span></span><span class="org-block"> desc </span><span class="org-block"><span class="string">";"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">car</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">split-string</span></span><span class="org-block"> desc </span><span class="org-block"><span class="string">";"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">  path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-meta-line">#+name: define-biblatex-footcite-link</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp :results silent :exports code
</span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">org-add-link-type</span></span><span class="org-block">
   </span><span class="org-block"><span class="string">"footcite"</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">ebib</span></span><span class="org-block">
   </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">lambda</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block">path desc format</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
     </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">cond</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">html</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"(&lt;cite&gt;%s&lt;/cite&gt;)"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">latex</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">or</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">not</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">equal</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-numbers-number">0</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">search</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"footcite:"</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
           </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\footcite{%s}"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
         </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\footcite[%s][%s]{%s}"</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">cadr</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">split-string</span></span><span class="org-block"> desc </span><span class="org-block"><span class="string">";"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">car</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">split-string</span></span><span class="org-block"> desc </span><span class="org-block"><span class="string">";"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">  path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-meta-line">#+name: define-biblatex-footcitetext-link</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp :results silent :exports code
</span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">org-add-link-type</span></span><span class="org-block">
   </span><span class="org-block"><span class="string">"footcitetext"</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">ebib</span></span><span class="org-block">
   </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">lambda</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block">path desc format</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
     </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">cond</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">html</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"(&lt;cite&gt;%s&lt;/cite&gt;)"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">latex</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">or</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">not</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">equal</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-numbers-number">0</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">search</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"footcitetext:"</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
           </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\footcitetext{%s}"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
         </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\footcitetext[%s][%s]{%s}"</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">cadr</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">split-string</span></span><span class="org-block"> desc </span><span class="org-block"><span class="string">";"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">car</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">split-string</span></span><span class="org-block"> desc </span><span class="org-block"><span class="string">";"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">  path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-superstar-leading">**</span><span class="org-level-3"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-3"> Style-specific biblatex commands
</span>
These commands can only be used by some of the citation styles that
ship with biblatex.

<span class="org-meta-line">#+name: define-style-specific-biblatex-commands</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp :noweb yes :results silent :exports code
</span><span class="org-block">  &lt;&lt;define-biblatex-textcite-link&gt;&gt;
  &lt;&lt;define-biblatex-cap-textcite-link&gt;&gt;
  &lt;&lt;define-biblatex-smartcite-link&gt;&gt;
  &lt;&lt;define-biblatex-cap-smartcite-link&gt;&gt;
  &lt;&lt;define-biblatex-citestar-link&gt;&gt;
  &lt;&lt;define-biblatex-parencitestar-link&gt;&gt;
  &lt;&lt;define-biblatex-supercite-link&gt;&gt;
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-meta-line">#+name: define-biblatex-textcite-link</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp :results silent :exports code
</span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">org-add-link-type</span></span><span class="org-block">
   </span><span class="org-block"><span class="string">"textcite"</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">ebib</span></span><span class="org-block">
   </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">lambda</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block">path desc format</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
     </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">cond</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">html</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"(&lt;cite&gt;%s&lt;/cite&gt;)"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">latex</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">or</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">not</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">equal</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-numbers-number">0</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">search</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"textcite:"</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
           </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\textcite{%s}"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
         </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\textcite[%s][%s]{%s}"</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">cadr</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">split-string</span></span><span class="org-block"> desc </span><span class="org-block"><span class="string">";"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">car</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">split-string</span></span><span class="org-block"> desc </span><span class="org-block"><span class="string">";"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">  path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-meta-line">#+name: define-biblatex-cap-textcite-link</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp :results silent :exports code
</span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">org-add-link-type</span></span><span class="org-block">
   </span><span class="org-block"><span class="string">"Textcite"</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">ebib</span></span><span class="org-block">
   </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">lambda</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block">path desc format</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
     </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">cond</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">html</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"(&lt;cite&gt;%s&lt;/cite&gt;)"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">latex</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">or</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">not</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">equal</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-numbers-number">0</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">search</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"Textcite:"</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
           </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\Textcite{%s}"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
         </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\Textcite[%s][%s]{%s}"</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">cadr</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">split-string</span></span><span class="org-block"> desc </span><span class="org-block"><span class="string">";"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">car</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">split-string</span></span><span class="org-block"> desc </span><span class="org-block"><span class="string">";"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">  path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-meta-line">#+name: define-biblatex-smartcite-link</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp :results silent :exports code
</span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">org-add-link-type</span></span><span class="org-block">
   </span><span class="org-block"><span class="string">"smartcite"</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">ebib</span></span><span class="org-block">
   </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">lambda</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block">path desc format</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
     </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">cond</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">html</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"(&lt;cite&gt;%s&lt;/cite&gt;)"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">latex</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">or</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">not</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">equal</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-numbers-number">0</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">search</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"smartcite:"</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
           </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\smartcite{%s}"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
         </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\smartcite[%s][%s]{%s}"</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">cadr</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">split-string</span></span><span class="org-block"> desc </span><span class="org-block"><span class="string">";"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">car</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">split-string</span></span><span class="org-block"> desc </span><span class="org-block"><span class="string">";"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">  path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-meta-line">#+name: define-biblatex-cap-smartcite-link</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp :results silent :exports code
</span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">org-add-link-type</span></span><span class="org-block">
   </span><span class="org-block"><span class="string">"Smartcite"</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">ebib</span></span><span class="org-block">
   </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">lambda</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block">path desc format</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
     </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">cond</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">html</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"(&lt;cite&gt;%s&lt;/cite&gt;)"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">latex</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">or</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">not</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">equal</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-numbers-number">0</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">search</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"Smartcite:"</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
           </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\Smartcite{%s}"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
         </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\Smartcite[%s][%s]{%s}"</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">cadr</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">split-string</span></span><span class="org-block"> desc </span><span class="org-block"><span class="string">";"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">car</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">split-string</span></span><span class="org-block"> desc </span><span class="org-block"><span class="string">";"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">  path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-meta-line">#+name: define-biblatex-citestar-link</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp :results silent :exports code
</span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">org-add-link-type</span></span><span class="org-block">
   </span><span class="org-block"><span class="string">"cite*"</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">ebib</span></span><span class="org-block">
   </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">lambda</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block">path desc format</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
     </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">cond</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">html</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"(&lt;cite&gt;%s&lt;/cite&gt;)"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">latex</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">or</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">not</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">equal</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-numbers-number">0</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">search</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"cite*:"</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
           </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\cite*{%s}"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
         </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\cite*[%s][%s]{%s}"</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">cadr</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">split-string</span></span><span class="org-block"> desc </span><span class="org-block"><span class="string">";"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">car</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">split-string</span></span><span class="org-block"> desc </span><span class="org-block"><span class="string">";"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">  path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-meta-line">#+name: define-biblatex-parencitestar-link</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp :results silent :exports code
</span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">org-add-link-type</span></span><span class="org-block">
   </span><span class="org-block"><span class="string">"parencite*"</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">ebib</span></span><span class="org-block">
   </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">lambda</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block">path desc format</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
     </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">cond</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">html</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"(&lt;cite&gt;%s&lt;/cite&gt;)"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">latex</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">if</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">or</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">not</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">equal</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-numbers-number">0</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">search</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"parencite*:"</span></span><span class="org-block"> desc</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
           </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\parencite*{%s}"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
         </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\parencite*[%s][%s]{%s}"</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">cadr</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">split-string</span></span><span class="org-block"> desc </span><span class="org-block"><span class="string">";"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
                 </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="constant">car</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="function-name">split-string</span></span><span class="org-block"> desc </span><span class="org-block"><span class="string">";"</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">  path</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-meta-line">#+name: define-biblatex-supercite-link</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp :results silent :exports code
</span><span class="org-block">  </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="function-name">org-add-link-type</span></span><span class="org-block">
   </span><span class="org-block"><span class="string">"supercite"</span></span><span class="org-block"> </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">ebib</span></span><span class="org-block">
   </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="keyword">lambda</span></span><span class="org-block"> </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block">path desc format</span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block">
     </span><span class="org-block"><span class="rainbow-delimiters-depth-3">(</span></span><span class="org-block"><span class="keyword">cond</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">html</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"(&lt;cite&gt;%s&lt;/cite&gt;)"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
      </span><span class="org-block"><span class="rainbow-delimiters-depth-1">(</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">eq</span></span><span class="org-block"> format </span><span class="org-block"><span class="highlight-quoted-quote">'</span></span><span class="org-block"><span class="highlight-quoted-symbol">latex</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block">
       </span><span class="org-block"><span class="rainbow-delimiters-depth-2">(</span></span><span class="org-block"><span class="constant">format</span></span><span class="org-block"> </span><span class="org-block"><span class="string">"\\cite*{%s}"</span></span><span class="org-block"> path</span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-3">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-2">)</span></span><span class="org-block"><span class="rainbow-delimiters-depth-1">)</span></span><span class="org-block">
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-level-1"><span class="org-superstar-header-bullet">*</span></span><span class="org-level-1"> Footnotes
</span>
<span class="org-footnote">[fn:1]</span> Based on posts to the mailing list by Karl Marino and Carsten
Dominik.  Thanks to Bernt Hansen and Nick Dokos for help debugging a
problem implementing the publishing project.
<span class="org-footnote">[fn:2]</span> This non-obvious use of the Org-mode link syntax appeared on the
Org-mode mailing list under the heading <span class="org-verbatim">text color + highlight</span> (!).
There was a lively discussion there, to which the ideas of
Samuel Wales, Christian Moe and Eric Schulte contributed directly to
this implementation.
<span class="org-footnote">[fn:3]</span> The results of this experiment are now included in this
document.
<span class="org-footnote">[fn:4]</span> The <span class="org-verbatim">xcolor</span> manual is an education in color management and is
highly recommended reading.
</pre>
  </body>
</html>
